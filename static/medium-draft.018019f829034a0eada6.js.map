{"version":3,"sources":["webpack:///medium-draft.018019f829034a0eada6.js","webpack:///./index.js","webpack:///./editor.js","webpack:///./components/addbutton.js","webpack:///./util/index.js","webpack:///./components/toolbar.js","webpack:///./components/blocktoolbar.js","webpack:///./components/stylebutton.js","webpack:///./components/inlinetoolbar.js","webpack:///./model/index.js","webpack:///./util/constants.js","webpack:///./components/customrenderer.js","webpack:///./components/blocks/blockquotecaption.js","webpack:///./components/blocks/caption.js","webpack:///./components/blocks/atomic.js","webpack:///./components/blocks/todo.js","webpack:///../~/util/util.js","webpack:///../~/util/support/isBufferBrowser.js","webpack:///../~/inherits/inherits_browser.js","webpack:///./model/rendermap.js","webpack:///./util/keybinding.js","webpack:///./util/beforeinput.js","webpack:///./components/entities/link.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","1","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","RenderMap","StringToTypeMap","beforeInput","Editor","undefined","_editor","_editor2","_beforeinput","_beforeinput2","_rendermap","_rendermap2","2","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_defineProperty","key","getBlockStyle","block","getType","_constants","Block","BLOCKQUOTE","UNSTYLED","ATOMIC","CAPTION","TODO","BLOCKQUOTE_CAPTION","_styleMap","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_react","_react2","_draftJs","_immutable","_addbutton","_addbutton2","_toolbar","_toolbar2","_customrenderer","_customrenderer2","_keybinding","_keybinding2","_model","_link","_link2","styleMap","Inline","HIGHLIGHT","backgroundColor","CODE","fontFamily","margin","fontSize","padding","color","border","borderBottomColor","borderRadius","boxShadow","MyEditor","_React$Component","this","_this","getPrototypeOf","decorator","CompositeDecorator","strategy","findLinkEntities","component","state","editorState","EditorState","createEmpty","showURLInput","editorEnabled","urlValue","push","convertFromRaw","focus","refs","editor","onChange","setState","onClick","logData","bind","onTab","handleKeyCommand","handleBeforeInput","handleReturn","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","toggleEdit","loadSavedData","setLink","addMedia","onChangeData","blockRendererFn","e","newEditorState","RichUtils","console","log","convertToRaw","getCurrentContent","getSelection","toJS","window","sel","url","_this2","selection","entityKey","Entity","LINK","toggleLink","setTimeout","newData","updateDataOfBlock","src","prompt","AtomicBlockUtils","insertAtomicBlock","files","command","localStorage","JSON","stringify","toolbar","handleLinkInput","_editorState","addNewBlock","getCurrentBlock","indexOf","newBlockType","split","currentBlockType","newState","str","stringToTypeMap","shiftKey","insertSoftNewline","altKey","metaKey","ctrlKey","currentBlock","blockType","getLength","UL","OL","H2","resetBlockWithType","inlineStyle","_this3","data","getItem","blockData","parse","_state","createElement","className","ref","blockStyleFn","blockRenderMap","handleDroppedFiles","customStyleMap","readOnly","keyBindingFn","placeholder","spellCheck","editorNode","Component","Map","defaultProps","3","5","6","299","_index","AddButton","style","visible","node","blockKey","blockLength","findNode","hideBlock","newProps","contentState","selectionState","isCollapsed","anchorKey","focusKey","getBlockForKey","bkey","getKey","getSelectedBlockNode","getBoundingClientRect","top","offsetTop","300","301","getSelectionRect","selected","_rect","getRangeAt","rect","getClientRects","anchorNode","isEmptyline","root","t","document","createRange","text","rangeCount","startContainer","getAttribute","parentNode","302","_reactDom","_reactDom2","_blocktoolbar","_blocktoolbar2","_inlinetoolbar","_inlinetoolbar2","_index2","Toolbar","urlInputValue","onKeyDown","nativeSelection","selectionBoundary","toolbarNode","findDOMNode","toolbarBoundary","parent","parentBoundary","height","width","widthDiff","left","right","which","preventDefault","stopPropagation","direct","arguments","selectedEntity","linkFound","findEntityRanges","character","getEntity","get","start","end","selStart","getAnchorOffset","selEnd","getFocusOffset","getIsBackward","_Entity$get$getData","getData","urlinput","select","_props","display","type","onToggle","buttons","blockButtons","inlineButtons","href","BLOCK_BUTTONS","label","INLINE_BUTTONS","303","304","_stylebutton","_stylebutton2","getCurrentBlockType","map","active","305","StyleButton","onMouseDown","306","currentStyle","getCurrentInlineStyle","has","307","getDefaultBlockData","initialData","checked","getStartKey","newType","blockMap","getBlockMap","newBlock","merge","newContentState","set","selectionAfter","newText","getText","substr","anchorOffset","focusOffset","308","H1","H3","H4","H5","H6","PULLQUOTE","BOLD","ITALIC","STRIKETHROUGH","UNDERLINE","309","_blockquotecaption","_blockquotecaption2","_caption","_caption2","_atomic","_atomic2","_todo","_todo2","contentBlock","editable","310","EditorBlock","311","312","313","314","entity","getEntityAt","315","316","TodoBlock","updateData","blockProps","317","318","global","process","inspect","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","array","hash","forEach","val","idx","recurseTimes","isFunction","ret","isString","primitive","formatPrimitive","keys","visibleKeys","getOwnPropertyNames","isError","formatError","name","isRegExp","RegExp","toString","isDate","Date","base","braces","isArray","n","toUTCString","output","formatArray","formatProperty","pop","reduceToSingleString","simple","replace","isNumber","isNull","Error","l","hasOwnProperty","String","match","desc","getOwnPropertyDescriptor","line","join","numLinesEst","reduce","prev","cur","ar","Array","arg","isNullOrUndefined","isSymbol","re","isObject","objectToString","d","isPrimitive","o","pad","timestamp","time","getHours","getMinutes","getSeconds","getDate","months","getMonth","prop","formatRegExp","format","f","objects","args","len","x","Number","_","deprecate","fn","msg","deprecated","warned","throwDeprecation","traceDeprecation","trace","error","apply","noDeprecation","debugEnviron","debugs","debuglog","env","NODE_DEBUG","toUpperCase","test","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isBuffer","inherits","origin","add","320","copy","fill","readUInt8","321","ctor","superCtor","super_","TempCtor","322","caption","element","block-quote-caption","todo","DefaultDraftBlockRenderMap","323","hasCommandModifier","KeyBindingUtil","keyCode","getDefaultKeyBinding","324","--","\"\"","> ","''","*.","* ","- ","1.","##","==","[]","mapping","blockTo","finalType","fType","325","callback","children"],"mappings":"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","file":"medium-draft.018019f829034a0eada6.js","sourcesContent":["webpackJsonp([0,3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.RenderMap = exports.StringToTypeMap = exports.beforeInput = exports.Editor = undefined;\n\t\n\tvar _editor = __webpack_require__(2);\n\t\n\tvar _editor2 = _interopRequireDefault(_editor);\n\t\n\tvar _beforeinput = __webpack_require__(324);\n\t\n\tvar _beforeinput2 = _interopRequireDefault(_beforeinput);\n\t\n\tvar _rendermap = __webpack_require__(322);\n\t\n\tvar _rendermap2 = _interopRequireDefault(_rendermap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Editor = _editor2.default;\n\texports.beforeInput = _beforeinput2.default;\n\texports.StringToTypeMap = _beforeinput.StringToTypeMap;\n\texports.RenderMap = _rendermap2.default;\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _styleMap;\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar _immutable = __webpack_require__(298);\n\t\n\tvar _addbutton = __webpack_require__(299);\n\t\n\tvar _addbutton2 = _interopRequireDefault(_addbutton);\n\t\n\tvar _toolbar = __webpack_require__(302);\n\t\n\tvar _toolbar2 = _interopRequireDefault(_toolbar);\n\t\n\tvar _customrenderer = __webpack_require__(309);\n\t\n\tvar _customrenderer2 = _interopRequireDefault(_customrenderer);\n\t\n\tvar _util = __webpack_require__(318);\n\t\n\tvar _rendermap = __webpack_require__(322);\n\t\n\tvar _rendermap2 = _interopRequireDefault(_rendermap);\n\t\n\tvar _keybinding = __webpack_require__(323);\n\t\n\tvar _keybinding2 = _interopRequireDefault(_keybinding);\n\t\n\tvar _constants = __webpack_require__(308);\n\t\n\tvar _beforeinput = __webpack_require__(324);\n\t\n\tvar _beforeinput2 = _interopRequireDefault(_beforeinput);\n\t\n\tvar _model = __webpack_require__(307);\n\t\n\tvar _link = __webpack_require__(325);\n\t\n\tvar _link2 = _interopRequireDefault(_link);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar styleMap = (_styleMap = {}, _defineProperty(_styleMap, _constants.Inline.HIGHLIGHT, {\n\t  backgroundColor: 'yellow'\n\t}), _defineProperty(_styleMap, _constants.Inline.CODE, {\n\t  fontFamily: 'Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n\t  margin: '4px 0',\n\t  fontSize: '0.9em',\n\t  padding: '1px 3px',\n\t  color: '#555',\n\t  backgroundColor: '#fcfcfc',\n\t  border: '1px solid #ccc',\n\t  borderBottomColor: '#bbb',\n\t  borderRadius: 3,\n\t  boxShadow: 'inset 0 -1px 0 #bbb'\n\t}), _styleMap);\n\t\n\tfunction getBlockStyle(block) {\n\t  switch (block.getType()) {\n\t    case _constants.Block.BLOCKQUOTE:\n\t      return 'block block-quote RichEditor-blockquote';\n\t    case _constants.Block.UNSTYLED:\n\t      return 'block block-paragraph';\n\t    case _constants.Block.ATOMIC:\n\t      return 'block block-atomic';\n\t    case _constants.Block.CAPTION:\n\t      return 'block block-caption';\n\t    case _constants.Block.TODO:\n\t      return 'block block-paragraph block-todo';\n\t    case _constants.Block.BLOCKQUOTE_CAPTION:\n\t      return 'block block-quote RichEditor-blockquote block-quote-caption';\n\t    default:\n\t      return 'block';\n\t  }\n\t}\n\t\n\tvar MyEditor = function (_React$Component) {\n\t  _inherits(MyEditor, _React$Component);\n\t\n\t  function MyEditor(props) {\n\t    _classCallCheck(this, MyEditor);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MyEditor).call(this, props));\n\t\n\t    var decorator = new _draftJs.CompositeDecorator([{\n\t      strategy: _link.findLinkEntities,\n\t      component: _link2.default\n\t    }]);\n\t    _this.state = {\n\t      editorState: _draftJs.EditorState.createEmpty(decorator),\n\t      showURLInput: false,\n\t      editorEnabled: true,\n\t      urlValue: ''\n\t    };\n\t    if (props.value) {\n\t      _this.state.editorState = _draftJs.EditorState.push(_this.state.editorState, (0, _draftJs.convertFromRaw)(props.value));\n\t    }\n\t    _this.focus = function () {\n\t      return _this.refs.editor.focus();\n\t    };\n\t    _this.onChange = function (editorState) {\n\t      if (_this.state.editorEnabled) {\n\t        _this.setState({ editorState: editorState });\n\t      }\n\t    };\n\t\n\t    _this.onClick = function () {\n\t      if (!_this.state.editorEnabled) {\n\t        _this.setState({\n\t          editorEnabled: true\n\t        }, function () {\n\t          _this.focus();\n\t        });\n\t      }\n\t    };\n\t\n\t    _this.logData = _this.logData.bind(_this);\n\t    _this.onClick = _this.onClick.bind(_this);\n\t    _this.onTab = _this.onTab.bind(_this);\n\t    _this.handleKeyCommand = _this.handleKeyCommand.bind(_this);\n\t    _this.handleBeforeInput = _this.handleBeforeInput.bind(_this);\n\t    _this.handleReturn = _this.handleReturn.bind(_this);\n\t    _this.toggleBlockType = _this._toggleBlockType.bind(_this);\n\t    _this.toggleInlineStyle = _this._toggleInlineStyle.bind(_this);\n\t    _this.toggleEdit = _this.toggleEdit.bind(_this);\n\t    _this.loadSavedData = _this.loadSavedData.bind(_this);\n\t    _this.setLink = _this.setLink.bind(_this);\n\t    _this.addMedia = _this.addMedia.bind(_this);\n\t    _this.onChangeData = _this.onChangeData.bind(_this);\n\t    _this.blockRendererFn = (0, _customrenderer2.default)(_this.onChangeData);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(MyEditor, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.focus();\n\t    }\n\t  }, {\n\t    key: 'onTab',\n\t    value: function onTab(e) {\n\t      var editorState = this.state.editorState;\n\t\n\t      var newEditorState = _draftJs.RichUtils.onTab(e, editorState, 2);\n\t      if (newEditorState !== editorState) {\n\t        this.onChange(newEditorState);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'logData',\n\t    value: function logData(e) {\n\t      console.log((0, _draftJs.convertToRaw)(this.state.editorState.getCurrentContent()));\n\t      console.log(this.state.editorState.getSelection().toJS());\n\t      window.sel = this.state.editorState.getSelection();\n\t    }\n\t  }, {\n\t    key: 'setLink',\n\t    value: function setLink(url) {\n\t      var _this2 = this;\n\t\n\t      var editorState = this.state.editorState;\n\t\n\t      var selection = editorState.getSelection();\n\t      var entityKey = null;\n\t      if (url !== '') {\n\t        entityKey = _draftJs.Entity.create(_constants.Entity.LINK, 'MUTABLE', { url: url });\n\t      }\n\t      this.setState({\n\t        editorState: _draftJs.RichUtils.toggleLink(editorState, selection, entityKey)\n\t      }, function () {\n\t        setTimeout(function () {\n\t          return _this2.refs.editor.focus();\n\t        }, 0);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onChangeData',\n\t    value: function onChangeData(block, newData) {\n\t      this.onChange((0, _model.updateDataOfBlock)(this.state.editorState, block, newData));\n\t    }\n\t  }, {\n\t    key: 'addMedia',\n\t    value: function addMedia() {\n\t      var src = window.prompt('Enter a URL');\n\t      if (!src) {\n\t        return;\n\t      }\n\t      var entityKey = _draftJs.Entity.create('image', 'IMMUTABLE', { src: src });\n\t      this.onChange(_draftJs.AtomicBlockUtils.insertAtomicBlock(this.state.editorState, entityKey, ' '));\n\t    }\n\t  }, {\n\t    key: 'handleDroppedFiles',\n\t    value: function handleDroppedFiles(selection, files) {\n\t      console.log(selection.toJS());\n\t      console.log(files);\n\t    }\n\t  }, {\n\t    key: 'handleKeyCommand',\n\t    value: function handleKeyCommand(command) {\n\t      // console.log(command);\n\t      if (command === 'editor-save') {\n\t        window.localStorage['editor'] = JSON.stringify((0, _draftJs.convertToRaw)(this.state.editorState.getCurrentContent()));\n\t        window.localStorage['tmp'] = JSON.stringify((0, _draftJs.convertToRaw)(this.state.editorState.getCurrentContent()));\n\t        return true;\n\t      } else if (command === 'showlinkinput') {\n\t        if (this.refs.toolbar) {\n\t          this.refs.toolbar.handleLinkInput(null, true);\n\t        }\n\t        return true;\n\t      } else if (command === 'add-new-block') {\n\t        var _editorState = this.state.editorState;\n\t\n\t        this.onChange((0, _model.addNewBlock)(_editorState, _constants.Block.BLOCKQUOTE));\n\t        return true;\n\t      } else if (command === 'load-saved-data') {\n\t        this.loadSavedData();\n\t        return true;\n\t      }\n\t      var editorState = this.state.editorState;\n\t\n\t      var block = (0, _model.getCurrentBlock)(editorState);\n\t      if (command.indexOf('changetype:') == 0) {\n\t        var newBlockType = command.split(':')[1];\n\t        var currentBlockType = block.getType();\n\t        if (currentBlockType == _constants.Block.ATOMIC || currentBlockType == 'media') {\n\t          return false;\n\t        }\n\t        if (currentBlockType == _constants.Block.BLOCKQUOTE && newBlockType == _constants.Block.CAPTION) {\n\t          newBlockType = _constants.Block.BLOCKQUOTE_CAPTION;\n\t        } else if (currentBlockType == _constants.Block.BLOCKQUOTE_CAPTION && newBlockType == _constants.Block.CAPTION) {\n\t          newBlockType = _constants.Block.BLOCKQUOTE;\n\t        }\n\t        this.onChange(_draftJs.RichUtils.toggleBlockType(editorState, newBlockType));\n\t        return true;\n\t      }\n\t      var newState = _draftJs.RichUtils.handleKeyCommand(editorState, command);\n\t      if (newState) {\n\t        this.onChange(newState);\n\t        return true;\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'handleBeforeInput',\n\t    value: function handleBeforeInput(str) {\n\t      return this.props.beforeInput(this.state.editorState, str, this.onChange, this.props.stringToTypeMap);\n\t    }\n\t  }, {\n\t    key: 'handleReturn',\n\t    value: function handleReturn(e) {\n\t      if (e.shiftKey) {\n\t        this.onChange(_draftJs.RichUtils.insertSoftNewline(this.state.editorState));\n\t        return true;\n\t      }\n\t      if (!e.altKey && !e.metaKey && !e.ctrlKey) {\n\t        var currentBlock = (0, _model.getCurrentBlock)(this.state.editorState);\n\t        var blockType = currentBlock.getType();\n\t        if (currentBlock.getLength() > 0) {\n\t          return false;\n\t        }\n\t        switch (blockType) {\n\t          case _constants.Block.UL:\n\t          case _constants.Block.OL:\n\t          case _constants.Block.BLOCKQUOTE:\n\t          case _constants.Block.BLOCKQUOTE_CAPTION:\n\t          case _constants.Block.CAPTION:\n\t          case _constants.Block.TODO:\n\t          case _constants.Block.H2:\n\t            this.onChange((0, _model.resetBlockWithType)(this.state.editorState, _constants.Block.UNSTYLED));\n\t            return true;\n\t          default:\n\t            return false;\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: '_toggleBlockType',\n\t    value: function _toggleBlockType(blockType) {\n\t      this.onChange(_draftJs.RichUtils.toggleBlockType(this.state.editorState, blockType));\n\t    }\n\t  }, {\n\t    key: '_toggleInlineStyle',\n\t    value: function _toggleInlineStyle(inlineStyle) {\n\t      this.onChange(_draftJs.RichUtils.toggleInlineStyle(this.state.editorState, inlineStyle));\n\t    }\n\t  }, {\n\t    key: 'toggleEdit',\n\t    value: function toggleEdit(e) {\n\t      this.setState({\n\t        editorEnabled: !this.state.editorEnabled\n\t      });\n\t    }\n\t  }, {\n\t    key: 'loadSavedData',\n\t    value: function loadSavedData() {\n\t      var _this3 = this;\n\t\n\t      var data = window.localStorage.getItem('editor');\n\t      if (data === null) {\n\t        return;\n\t      }\n\t      try {\n\t        var blockData = JSON.parse(data);\n\t        console.log(blockData);\n\t        this.setState({\n\t          editorState: _draftJs.EditorState.push(this.state.editorState, (0, _draftJs.convertFromRaw)(blockData))\n\t        }, function () {\n\t          return _this3.refs.editor.focus();\n\t        });\n\t      } catch (e) {\n\t        console.log(e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _state = this.state;\n\t      var editorState = _state.editorState;\n\t      var showURLInput = _state.showURLInput;\n\t      var editorEnabled = _state.editorEnabled;\n\t      var urlValue = _state.urlValue;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'RichEditor-root' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'RichEditor-editor' },\n\t          _react2.default.createElement(_draftJs.Editor, {\n\t            ref: 'editor',\n\t            editorState: editorState,\n\t            blockRendererFn: this.blockRendererFn,\n\t            blockStyleFn: getBlockStyle,\n\t            onChange: this.onChange,\n\t            onTab: this.onTab,\n\t            blockRenderMap: this.props.blockRenderMap,\n\t            handleKeyCommand: this.handleKeyCommand,\n\t            handleBeforeInput: this.handleBeforeInput,\n\t            handleDroppedFiles: this.handleDroppedFiles,\n\t            handleReturn: this.handleReturn,\n\t            customStyleMap: styleMap,\n\t            readOnly: !editorEnabled,\n\t            keyBindingFn: _keybinding2.default,\n\t            placeholder: 'Write your story...',\n\t            spellCheck: false }),\n\t          editorEnabled ? _react2.default.createElement(_addbutton2.default, { editorState: editorState, addMedia: this.addMedia }) : null,\n\t          _react2.default.createElement(_toolbar2.default, {\n\t            ref: 'toolbar',\n\t            editorNode: this.refs.editor,\n\t            editorState: editorState,\n\t            toggleBlockType: this.toggleBlockType,\n\t            toggleInlineStyle: this.toggleInlineStyle,\n\t            editorEnabled: editorEnabled,\n\t            setLink: this.setLink,\n\t            focus: this.focus })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'editor-action' },\n\t          _react2.default.createElement(\n\t            'button',\n\t            { onClick: this.logData },\n\t            'Log State'\n\t          ),\n\t          _react2.default.createElement(\n\t            'button',\n\t            { onClick: this.toggleEdit },\n\t            'Toggle Edit'\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return MyEditor;\n\t}(_react2.default.Component);\n\t\n\tvar renderMap = (0, _immutable.Map)();\n\t\n\tMyEditor.defaultProps = {\n\t  beforeInput: _beforeinput2.default,\n\t  stringToTypeMap: _beforeinput.StringToTypeMap,\n\t  blockRenderMap: _rendermap2.default\n\t};\n\t\n\texports.default = MyEditor;\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 5:\n3,\n\n/***/ 6:\n3,\n\n/***/ 299:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(300);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _index = __webpack_require__(301);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AddButton = function (_React$Component) {\n\t  _inherits(AddButton, _React$Component);\n\t\n\t  function AddButton(props) {\n\t    _classCallCheck(this, AddButton);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AddButton).call(this, props));\n\t\n\t    _this.state = {\n\t      style: {},\n\t      visible: false\n\t    };\n\t    _this.node = null;\n\t    _this.blockKey = '';\n\t    _this.blockType = '';\n\t    _this.blockLength = -1;\n\t\n\t    _this.findNode = _this.findNode.bind(_this);\n\t    _this.hideBlock = _this.hideBlock.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  // To show + button only when text length == 0\n\t  // componentWillReceiveProps(newProps) {\n\t  //   const { editorState } = newProps;\n\t  //   const contentState = editorState.getCurrentContent();\n\t  //   const selectionState = editorState.getSelection();\n\t  //   if (!selectionState.isCollapsed() || selectionState.anchorKey != selectionState.focusKey) {\n\t  //     // console.log('no sel');\n\t  //     this.hideBlock();\n\t  //     return;\n\t  //   }\n\t  //   const block = contentState.getBlockForKey(selectionState.anchorKey);\n\t  //   const bkey = block.getKey();\n\t  //   if (block.getLength() > 0) {\n\t  //     this.hideBlock();\n\t  //     return;\n\t  //   }\n\t  //   if (block.getType() !== this.blockType) {\n\t  //     this.blockType = block.getType();\n\t  //     if (block.getLength() == 0) {\n\t  //       setTimeout(this.findNode, 0);\n\t  //     }\n\t  //     return;\n\t  //   }\n\t  //   if (this.blockKey === bkey) {\n\t  //     // console.log('block exists');\n\t  //     if (block.getLength() > 0) {\n\t  //       this.hideBlock();\n\t  //     } else {\n\t  //       this.setState({\n\t  //         visible: true\n\t  //       });\n\t  //     }\n\t  //     return;\n\t  //   }\n\t  //   this.blockKey = bkey;\n\t  //   if (block.getLength() > 0) {\n\t  //     // console.log('no len');\n\t  //     this.hideBlock();\n\t  //     return;\n\t  //   }\n\t  //   setTimeout(this.findNode, 0);\n\t  // }\n\t\n\t  // Show + button regardless of block length\n\t\n\t\n\t  _createClass(AddButton, [{\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(newProps) {\n\t      var editorState = newProps.editorState;\n\t\n\t      var contentState = editorState.getCurrentContent();\n\t      var selectionState = editorState.getSelection();\n\t      if (!selectionState.isCollapsed() || selectionState.anchorKey != selectionState.focusKey) {\n\t        this.hideBlock();\n\t        return;\n\t      }\n\t      var block = contentState.getBlockForKey(selectionState.anchorKey);\n\t      var bkey = block.getKey();\n\t      if (block.getType() !== this.blockType) {\n\t        this.blockType = block.getType();\n\t        setTimeout(this.findNode, 0);\n\t        return;\n\t      }\n\t      if (this.blockKey === bkey) {\n\t        this.setState({\n\t          visible: true\n\t        });\n\t        return;\n\t      }\n\t      this.blockKey = bkey;\n\t      setTimeout(this.findNode, 0);\n\t    }\n\t  }, {\n\t    key: 'hideBlock',\n\t    value: function hideBlock() {\n\t      if (this.state.visible) {\n\t        this.setState({\n\t          visible: false\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'findNode',\n\t    value: function findNode() {\n\t      var node = (0, _index.getSelectedBlockNode)(window);\n\t      if (node === this.node) {\n\t        // console.log('Node exists');\n\t        return;\n\t      }\n\t      if (!node) {\n\t        // console.log('no node');\n\t        this.setState({\n\t          visible: false\n\t        });\n\t        return;\n\t      }\n\t      var rect = node.getBoundingClientRect();\n\t      this.node = node;\n\t      this.setState({\n\t        visible: true,\n\t        style: {\n\t          top: node.offsetTop\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.state.visible) {\n\t        return _react2.default.createElement(\n\t          'button',\n\t          { onClick: this.props.addMedia, className: 'add-button', style: this.state.style },\n\t          '+'\n\t        );\n\t      }\n\t      return null;\n\t    }\n\t  }]);\n\t\n\t  return AddButton;\n\t}(_react2.default.Component);\n\t\n\texports.default = AddButton;\n\t;\n\n/***/ },\n\n/***/ 300:\n3,\n\n/***/ 301:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar getSelectionRect = exports.getSelectionRect = function getSelectionRect(selected) {\n\t  var _rect = selected.getRangeAt(0).getBoundingClientRect();\n\t  var rect = _rect && _rect.top ? _rect : selected.getRangeAt(0).getClientRects()[0]; //selected.getRangeAt(0).getBoundingClientRect()\n\t  if (!rect) {\n\t    if (selected.anchorNode && selected.anchorNode.getBoundingClientRect) {\n\t      rect = selected.anchorNode.getBoundingClientRect();\n\t      rect.isEmptyline = true;\n\t    } else {\n\t      return null;\n\t    }\n\t  }\n\t  return rect;\n\t};\n\t\n\t// export const getSelectedNode = (selection) => {};\n\t\n\tvar getSelection = exports.getSelection = function getSelection(root) {\n\t  var t = null;\n\t  if (root.getSelection) {\n\t    t = root.getSelection();\n\t  } else if (root.document.getSelection) {\n\t    t = root.document.getSelection();\n\t  } else if (root.document.selection) {\n\t    t = root.document.selection.createRange().text;\n\t  }\n\t  return t;\n\t};\n\t\n\tvar getSelectedBlockNode = exports.getSelectedBlockNode = function getSelectedBlockNode(root) {\n\t  var selection = root.getSelection();\n\t  if (selection.rangeCount == 0) {\n\t    return null;\n\t  }\n\t  window.sel = selection;\n\t  var node = selection.getRangeAt(0).startContainer;\n\t  // console.log(node);\n\t  do {\n\t    if (node.getAttribute && node.getAttribute('data-block') === 'true') {\n\t      return node;\n\t    }\n\t    node = node.parentNode;\n\t    // console.log(node);\n\t  } while (node !== null);\n\t  return null;\n\t};\n\n/***/ },\n\n/***/ 302:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(303);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(83);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar _blocktoolbar = __webpack_require__(304);\n\t\n\tvar _blocktoolbar2 = _interopRequireDefault(_blocktoolbar);\n\t\n\tvar _inlinetoolbar = __webpack_require__(306);\n\t\n\tvar _inlinetoolbar2 = _interopRequireDefault(_inlinetoolbar);\n\t\n\tvar _index = __webpack_require__(301);\n\t\n\tvar _index2 = __webpack_require__(307);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// window.getVisibleSelectionRect = getVisibleSelectionRect;\n\t\n\tvar Toolbar = function (_React$Component) {\n\t  _inherits(Toolbar, _React$Component);\n\t\n\t  function Toolbar(props) {\n\t    _classCallCheck(this, Toolbar);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Toolbar).call(this, props));\n\t\n\t    _this.state = {\n\t      showURLInput: false,\n\t      urlInputValue: ''\n\t    };\n\t\n\t    _this.onKeyDown = _this.onKeyDown.bind(_this);\n\t    _this.onChange = _this.onChange.bind(_this);\n\t    _this.handleLinkInput = _this.handleLinkInput.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Toolbar, [{\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(newProps) {\n\t      var editorState = newProps.editorState;\n\t\n\t      if (!newProps.editorEnabled) {\n\t        return;\n\t      }\n\t      var selectionState = editorState.getSelection();\n\t      if (selectionState.isCollapsed()) {\n\t        if (this.state.showURLInput) {\n\t          this.setState({\n\t            showURLInput: false\n\t          });\n\t        }\n\t        return;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      if (!this.props.editorEnabled || this.state.showURLInput) {\n\t        return;\n\t      }\n\t      var selectionState = this.props.editorState.getSelection();\n\t      if (selectionState.isCollapsed()) {\n\t        return;\n\t      }\n\t      var nativeSelection = (0, _index.getSelection)(window);\n\t      if (!nativeSelection.rangeCount) {\n\t        return;\n\t      }\n\t      var selectionBoundary = (0, _index.getSelectionRect)(nativeSelection);\n\t\n\t      var toolbarNode = _reactDom2.default.findDOMNode(this);\n\t      var toolbarBoundary = toolbarNode.getBoundingClientRect();\n\t\n\t      var parent = _reactDom2.default.findDOMNode(this.props.editorNode);\n\t      var parentBoundary = parent.getBoundingClientRect();\n\t\n\t      /*\n\t      * Main logic for setting the toolbar position.\n\t      */\n\t      toolbarNode.style.top = selectionBoundary.top - parentBoundary.top - toolbarBoundary.height - 5 + 'px';\n\t      toolbarNode.style.width = toolbarBoundary.width + 'px';\n\t      var widthDiff = selectionBoundary.width - toolbarBoundary.width;\n\t      if (widthDiff >= 0) {\n\t        toolbarNode.style.left = widthDiff / 2 + 'px';\n\t      } else {\n\t        var left = selectionBoundary.left - parentBoundary.left;\n\t        if (left + toolbarBoundary.width > parentBoundary.width) {\n\t          toolbarNode.style.right = '0px';\n\t          toolbarNode.style.left = '';\n\t        } else {\n\t          toolbarNode.style.left = left + widthDiff / 2 + 'px';\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onKeyDown',\n\t    value: function onKeyDown(e) {\n\t      var _this2 = this;\n\t\n\t      if (e.which === 13) {\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t        this.props.setLink(this.state.urlInputValue);\n\t        this.setState({\n\t          showURLInput: false,\n\t          urlInputValue: ''\n\t        }, function () {\n\t          return _this2.props.focus();\n\t        });\n\t      } else if (e.which === 27) {\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t        this.setState({\n\t          showURLInput: false,\n\t          urlInputValue: ''\n\t        }, function () {\n\t          return _this2.props.focus();\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onChange',\n\t    value: function onChange(e) {\n\t      this.setState({\n\t        urlInputValue: e.target.value\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleLinkInput',\n\t    value: function handleLinkInput(e) {\n\t      var _this3 = this;\n\t\n\t      var direct = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t      if (!direct) {\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t      var editorState = this.props.editorState;\n\t\n\t      var selection = editorState.getSelection();\n\t      if (selection.isCollapsed()) {\n\t        this.props.focus();\n\t        return;\n\t      }\n\t      var currentBlock = (0, _index2.getCurrentBlock)(editorState);\n\t      var selectedEntity = '';\n\t      var linkFound = false;\n\t      currentBlock.findEntityRanges(function (character) {\n\t        var entityKey = character.getEntity();\n\t        selectedEntity = entityKey;\n\t        return entityKey !== null && _draftJs.Entity.get(entityKey).getType() === 'LINK';\n\t      }, function (start, end) {\n\t        var selStart = selection.getAnchorOffset();\n\t        var selEnd = selection.getFocusOffset();\n\t        if (selection.getIsBackward()) {\n\t          selStart = selection.getFocusOffset();\n\t          selEnd = selection.getAnchorOffset();\n\t        }\n\t        if (start == selStart && end == selEnd) {\n\t          linkFound = true;\n\t\n\t          var _Entity$get$getData = _draftJs.Entity.get(selectedEntity).getData();\n\t\n\t          var url = _Entity$get$getData.url;\n\t\n\t          _this3.setState({\n\t            showURLInput: true,\n\t            urlInputValue: url\n\t          }, function () {\n\t            setTimeout(function () {\n\t              _this3.refs.urlinput.focus();\n\t              _this3.refs.urlinput.select();\n\t            }, 0);\n\t          });\n\t        }\n\t      });\n\t      if (!linkFound) {\n\t        this.setState({\n\t          showURLInput: true\n\t        }, function () {\n\t          setTimeout(function () {\n\t            _this3.refs.urlinput.focus();\n\t          }, 0);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _props = this.props;\n\t      var editorState = _props.editorState;\n\t      var editorEnabled = _props.editorEnabled;\n\t      var _state = this.state;\n\t      var showURLInput = _state.showURLInput;\n\t      var urlInputValue = _state.urlInputValue;\n\t      var style = _state.style;\n\t\n\t      if (!editorEnabled || editorState.getSelection().isCollapsed()) {\n\t        return null;\n\t      }\n\t      if (showURLInput) {\n\t        return _react2.default.createElement(\n\t          'div',\n\t          { className: 'editor-toolbar', style: style },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'RichEditor-controls', style: { display: 'block' } },\n\t            _react2.default.createElement('input', {\n\t              ref: 'urlinput',\n\t              type: 'text',\n\t              className: 'url-input',\n\t              onKeyDown: this.onKeyDown,\n\t              onChange: this.onChange,\n\t              placeholder: 'Press ENTER or ESC',\n\t              value: urlInputValue })\n\t          )\n\t        );\n\t      }\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'editor-toolbar', style: style },\n\t        _react2.default.createElement(_blocktoolbar2.default, {\n\t          editorState: editorState,\n\t          onToggle: this.props.toggleBlockType,\n\t          buttons: this.props.blockButtons }),\n\t        _react2.default.createElement(_inlinetoolbar2.default, {\n\t          editorState: editorState,\n\t          onToggle: this.props.toggleInlineStyle,\n\t          buttons: this.props.inlineButtons }),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'RichEditor-controls' },\n\t          _react2.default.createElement(\n\t            'a',\n\t            { className: 'RichEditor-linkButton', href: '#', onClick: this.handleLinkInput },\n\t            '#'\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Toolbar;\n\t}(_react2.default.Component);\n\t\n\texports.default = Toolbar;\n\t\n\t\n\tvar BLOCK_BUTTONS = [\n\t// {label: 'H1', style: 'header-one'},\n\t// {label: 'H2', style: 'header-two'},\n\t{ label: 'T', style: 'header-three' }, { label: 'N', style: 'unstyled' }, { label: 'Q', style: 'blockquote' }, { label: 'UL', style: 'unordered-list-item' }, { label: 'OL', style: 'ordered-list-item' }];\n\t\n\tvar INLINE_BUTTONS = [{ label: _react2.default.createElement(\n\t    'b',\n\t    null,\n\t    'B'\n\t  ), style: 'BOLD' }, { label: _react2.default.createElement(\n\t    'i',\n\t    null,\n\t    'I'\n\t  ), style: 'ITALIC' }, { label: _react2.default.createElement(\n\t    'u',\n\t    null,\n\t    'U'\n\t  ), style: 'UNDERLINE' }, { label: _react2.default.createElement(\n\t    'strike',\n\t    null,\n\t    'S'\n\t  ), style: 'STRIKETHROUGH' }, { label: 'Hi', style: 'HIGHLIGHT' }, { label: 'Code', style: 'CODE' }];\n\t\n\tToolbar.defaultProps = {\n\t  blockButtons: BLOCK_BUTTONS,\n\t  inlineButtons: INLINE_BUTTONS\n\t};\n\n/***/ },\n\n/***/ 303:\n3,\n\n/***/ 304:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar _stylebutton = __webpack_require__(305);\n\t\n\tvar _stylebutton2 = _interopRequireDefault(_stylebutton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (props) {\n\t  var editorState = props.editorState;\n\t  // const selection = editorState.getSelection();\n\t\n\t  var blockType = _draftJs.RichUtils.getCurrentBlockType(editorState);\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'RichEditor-controls' },\n\t    props.buttons.map(function (type) {\n\t      return _react2.default.createElement(_stylebutton2.default, {\n\t        key: type.label,\n\t        active: type.style === blockType,\n\t        label: type.label,\n\t        onToggle: props.onToggle,\n\t        style: type.style\n\t      });\n\t    })\n\t  );\n\t};\n\n/***/ },\n\n/***/ 305:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar StyleButton = function (_React$Component) {\n\t  _inherits(StyleButton, _React$Component);\n\t\n\t  function StyleButton() {\n\t    _classCallCheck(this, StyleButton);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(StyleButton).call(this));\n\t\n\t    _this.onToggle = function (e) {\n\t      e.preventDefault();\n\t      _this.props.onToggle(_this.props.style);\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(StyleButton, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var className = 'RichEditor-styleButton';\n\t      if (this.props.active) {\n\t        className += ' RichEditor-activeButton';\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        'span',\n\t        { className: className, onMouseDown: this.onToggle },\n\t        this.props.label\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return StyleButton;\n\t}(_react2.default.Component);\n\t\n\texports.default = StyleButton;\n\n/***/ },\n\n/***/ 306:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _stylebutton = __webpack_require__(305);\n\t\n\tvar _stylebutton2 = _interopRequireDefault(_stylebutton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (props) {\n\t  var currentStyle = props.editorState.getCurrentInlineStyle();\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'RichEditor-controls' },\n\t    props.buttons.map(function (type) {\n\t      return _react2.default.createElement(_stylebutton2.default, {\n\t        key: type.style,\n\t        active: currentStyle.has(type.style),\n\t        label: type.label,\n\t        onToggle: props.onToggle,\n\t        style: type.style\n\t      });\n\t    })\n\t  );\n\t};\n\n/***/ },\n\n/***/ 307:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.updateDataOfBlock = exports.resetBlockWithType = exports.addNewBlock = exports.getCurrentBlock = exports.getDefaultBlockData = undefined;\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar _constants = __webpack_require__(308);\n\t\n\tvar getDefaultBlockData = exports.getDefaultBlockData = function getDefaultBlockData(blockType) {\n\t  var initialData = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t  switch (blockType) {\n\t    case _constants.Block.TODO:\n\t      return { checked: false };\n\t    default:\n\t      return initialData;\n\t  }\n\t};\n\t\n\tvar getCurrentBlock = exports.getCurrentBlock = function getCurrentBlock(editorState) {\n\t  var selectionState = editorState.getSelection();\n\t  var contentState = editorState.getCurrentContent();\n\t  var block = contentState.getBlockForKey(selectionState.getStartKey());\n\t  return block;\n\t};\n\t\n\tvar addNewBlock = exports.addNewBlock = function addNewBlock(editorState) {\n\t  var newType = arguments.length <= 1 || arguments[1] === undefined ? _constants.Block.UNSTYLED : arguments[1];\n\t\n\t  var selectionState = editorState.getSelection();\n\t  if (!selectionState.isCollapsed()) {\n\t    return editorState;\n\t  }\n\t  var contentState = editorState.getCurrentContent();\n\t  var key = selectionState.getStartKey();\n\t  var blockMap = contentState.getBlockMap();\n\t  var currentBlock = getCurrentBlock(editorState);\n\t  if (!currentBlock) {\n\t    return editorState;\n\t  }\n\t  if (currentBlock.getLength() == 0) {\n\t    if (currentBlock.getType() == newType) {\n\t      return editorState;\n\t    }\n\t    var newBlock = currentBlock.merge({\n\t      type: newType,\n\t      data: getDefaultBlockData(newType)\n\t    });\n\t    var newContentState = contentState.merge({\n\t      blockMap: blockMap.set(key, newBlock),\n\t      selectionAfter: selectionState\n\t    });\n\t    return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t  }\n\t  return editorState;\n\t};\n\t\n\tvar resetBlockWithType = exports.resetBlockWithType = function resetBlockWithType(editorState) {\n\t  var newType = arguments.length <= 1 || arguments[1] === undefined ? _constants.Block.UNSTYLED : arguments[1];\n\t\n\t  var contentState = editorState.getCurrentContent();\n\t  var selectionState = editorState.getSelection();\n\t  var key = selectionState.getStartKey();\n\t  var blockMap = contentState.getBlockMap();\n\t  var block = blockMap.get(key);\n\t  var newText = \"\";\n\t  var text = block.getText();\n\t  if (block.getLength() >= 2) {\n\t    newText = text.substr(1);\n\t  }\n\t  var newBlock = block.merge({\n\t    text: newText,\n\t    type: newType,\n\t    data: getDefaultBlockData(newType)\n\t  });\n\t  var newContentState = contentState.merge({\n\t    blockMap: blockMap.set(key, newBlock),\n\t    selectionAfter: selectionState.merge({\n\t      anchorOffset: 0,\n\t      focusOffset: 0\n\t    })\n\t  });\n\t  return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t};\n\t\n\tvar updateDataOfBlock = exports.updateDataOfBlock = function updateDataOfBlock(editorState, block, newData) {\n\t  var contentState = editorState.getCurrentContent();\n\t  var blockMap = contentState.getBlockMap();\n\t  var newBlock = block.merge({\n\t    data: newData\n\t  });\n\t  var newContentState = contentState.merge({\n\t    blockMap: contentState.getBlockMap().set(block.getKey(), newBlock)\n\t  });\n\t  return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t  // return editorState;\n\t};\n\n/***/ },\n\n/***/ 308:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar Block = exports.Block = {\n\t  UNSTYLED: 'unstyled',\n\t  OL: 'ordered-list-item',\n\t  UL: 'unordered-list-item',\n\t  H1: 'header-one',\n\t  H2: 'header-two',\n\t  H3: 'header-three',\n\t  H4: 'header-four',\n\t  H5: 'header-five',\n\t  H6: 'header-six',\n\t  CODE: 'code-block',\n\t  BLOCKQUOTE: 'blockquote',\n\t  PULLQUOTE: 'pullquote',\n\t  ATOMIC: 'atomic',\n\t  BLOCKQUOTE_CAPTION: 'block-quote-caption',\n\t  CAPTION: 'caption',\n\t  TODO: 'todo'\n\t};\n\t\n\tvar Inline = exports.Inline = {\n\t  BOLD: 'BOLD',\n\t  CODE: 'CODE',\n\t  ITALIC: 'ITALIC',\n\t  STRIKETHROUGH: 'STRIKETHROUGH',\n\t  UNDERLINE: 'UNDERLINE',\n\t  HIGHLIGHT: 'HIGHLIGHT'\n\t};\n\t\n\tvar Entity = exports.Entity = {\n\t  LINK: 'LINK'\n\t};\n\t\n\texports.default = {\n\t  Block: Block,\n\t  Inline: Inline,\n\t  Entity: Entity\n\t};\n\n/***/ },\n\n/***/ 309:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _blockquotecaption = __webpack_require__(310);\n\t\n\tvar _blockquotecaption2 = _interopRequireDefault(_blockquotecaption);\n\t\n\tvar _caption = __webpack_require__(312);\n\t\n\tvar _caption2 = _interopRequireDefault(_caption);\n\t\n\tvar _atomic = __webpack_require__(314);\n\t\n\tvar _atomic2 = _interopRequireDefault(_atomic);\n\t\n\tvar _todo = __webpack_require__(316);\n\t\n\tvar _todo2 = _interopRequireDefault(_todo);\n\t\n\tvar _constants = __webpack_require__(308);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (onChangeData) {\n\t  return function (contentBlock) {\n\t    // console.log(editorState, onChange);\n\t    var type = contentBlock.getType();\n\t    switch (type) {\n\t      case _constants.Block.BLOCKQUOTE_CAPTION:\n\t        return {\n\t          component: _blockquotecaption2.default\n\t        };\n\t      case _constants.Block.CAPTION:\n\t        return {\n\t          component: _caption2.default\n\t        };\n\t      case _constants.Block.ATOMIC:\n\t        return {\n\t          component: _atomic2.default,\n\t          editable: false\n\t        };\n\t      case _constants.Block.TODO:\n\t        return {\n\t          component: _todo2.default,\n\t          props: {\n\t            onChangeData: onChangeData\n\t          }\n\t        };\n\t      default:\n\t        return null;\n\t    }\n\t  };\n\t};\n\n/***/ },\n\n/***/ 310:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t__webpack_require__(311);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (props) {\n\t  return _react2.default.createElement(\n\t    'cite',\n\t    null,\n\t    _react2.default.createElement(_draftJs.EditorBlock, props)\n\t  );\n\t};\n\n/***/ },\n\n/***/ 311:\n3,\n\n/***/ 312:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t__webpack_require__(313);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (props) {\n\t  return _react2.default.createElement(_draftJs.EditorBlock, props);\n\t};\n\n/***/ },\n\n/***/ 313:\n3,\n\n/***/ 314:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t__webpack_require__(315);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (props) {\n\t  var entity = _draftJs.Entity.get(props.block.getEntityAt(0));\n\t  var data = entity.getData();\n\t  var type = entity.getType();\n\t  if (type === 'image') {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { className: 'block-atomic-wrapper' },\n\t      _react2.default.createElement('img', { src: data.src }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'block-atomic-controls' },\n\t        _react2.default.createElement(\n\t          'button',\n\t          null,\n\t          ''\n\t        )\n\t      )\n\t    );\n\t  }\n\t  return _react2.default.createElement(\n\t    'p',\n\t    null,\n\t    'No supported block for ',\n\t    type\n\t  );\n\t};\n\n/***/ },\n\n/***/ 315:\n3,\n\n/***/ 316:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(317);\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar _index = __webpack_require__(307);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TodoBlock = function (_React$Component) {\n\t  _inherits(TodoBlock, _React$Component);\n\t\n\t  function TodoBlock(props) {\n\t    _classCallCheck(this, TodoBlock);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TodoBlock).call(this, props));\n\t\n\t    _this.updateData = _this.updateData.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TodoBlock, [{\n\t    key: 'updateData',\n\t    value: function updateData(e) {\n\t      var _props = this.props;\n\t      var block = _props.block;\n\t      var blockProps = _props.blockProps;\n\t      var onChangeData = blockProps.onChangeData;\n\t\n\t      var data = block.getData();\n\t      var checked = data.has('checked') && data.get('checked') === true;\n\t      var newData = data.set('checked', !checked);\n\t      onChangeData(block, newData);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var data = this.props.block.getData();\n\t      var checked = data.get('checked') === true ? true : false;\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: checked ? 'block-todo-completed' : '' },\n\t        _react2.default.createElement('input', { type: 'checkbox', checked: checked, onChange: this.updateData }),\n\t        _react2.default.createElement(_draftJs.EditorBlock, this.props)\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return TodoBlock;\n\t}(_react2.default.Component);\n\t\n\texports.default = TodoBlock;\n\t;\n\n/***/ },\n\n/***/ 317:\n3,\n\n/***/ 318:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, process) {// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tvar formatRegExp = /%[sdj%]/g;\n\texports.format = function(f) {\n\t  if (!isString(f)) {\n\t    var objects = [];\n\t    for (var i = 0; i < arguments.length; i++) {\n\t      objects.push(inspect(arguments[i]));\n\t    }\n\t    return objects.join(' ');\n\t  }\n\t\n\t  var i = 1;\n\t  var args = arguments;\n\t  var len = args.length;\n\t  var str = String(f).replace(formatRegExp, function(x) {\n\t    if (x === '%%') return '%';\n\t    if (i >= len) return x;\n\t    switch (x) {\n\t      case '%s': return String(args[i++]);\n\t      case '%d': return Number(args[i++]);\n\t      case '%j':\n\t        try {\n\t          return JSON.stringify(args[i++]);\n\t        } catch (_) {\n\t          return '[Circular]';\n\t        }\n\t      default:\n\t        return x;\n\t    }\n\t  });\n\t  for (var x = args[i]; i < len; x = args[++i]) {\n\t    if (isNull(x) || !isObject(x)) {\n\t      str += ' ' + x;\n\t    } else {\n\t      str += ' ' + inspect(x);\n\t    }\n\t  }\n\t  return str;\n\t};\n\t\n\t\n\t// Mark that a method should not be used.\n\t// Returns a modified function which warns once by default.\n\t// If --no-deprecation is set, then it is a no-op.\n\texports.deprecate = function(fn, msg) {\n\t  // Allow for deprecating things in the process of starting up.\n\t  if (isUndefined(global.process)) {\n\t    return function() {\n\t      return exports.deprecate(fn, msg).apply(this, arguments);\n\t    };\n\t  }\n\t\n\t  if (process.noDeprecation === true) {\n\t    return fn;\n\t  }\n\t\n\t  var warned = false;\n\t  function deprecated() {\n\t    if (!warned) {\n\t      if (process.throwDeprecation) {\n\t        throw new Error(msg);\n\t      } else if (process.traceDeprecation) {\n\t        console.trace(msg);\n\t      } else {\n\t        console.error(msg);\n\t      }\n\t      warned = true;\n\t    }\n\t    return fn.apply(this, arguments);\n\t  }\n\t\n\t  return deprecated;\n\t};\n\t\n\t\n\tvar debugs = {};\n\tvar debugEnviron;\n\texports.debuglog = function(set) {\n\t  if (isUndefined(debugEnviron))\n\t    debugEnviron = process.env.NODE_DEBUG || '';\n\t  set = set.toUpperCase();\n\t  if (!debugs[set]) {\n\t    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n\t      var pid = process.pid;\n\t      debugs[set] = function() {\n\t        var msg = exports.format.apply(exports, arguments);\n\t        console.error('%s %d: %s', set, pid, msg);\n\t      };\n\t    } else {\n\t      debugs[set] = function() {};\n\t    }\n\t  }\n\t  return debugs[set];\n\t};\n\t\n\t\n\t/**\n\t * Echos the value of a value. Trys to print the value out\n\t * in the best way possible given the different types.\n\t *\n\t * @param {Object} obj The object to print out.\n\t * @param {Object} opts Optional options object that alters the output.\n\t */\n\t/* legacy: obj, showHidden, depth, colors*/\n\tfunction inspect(obj, opts) {\n\t  // default options\n\t  var ctx = {\n\t    seen: [],\n\t    stylize: stylizeNoColor\n\t  };\n\t  // legacy...\n\t  if (arguments.length >= 3) ctx.depth = arguments[2];\n\t  if (arguments.length >= 4) ctx.colors = arguments[3];\n\t  if (isBoolean(opts)) {\n\t    // legacy...\n\t    ctx.showHidden = opts;\n\t  } else if (opts) {\n\t    // got an \"options\" object\n\t    exports._extend(ctx, opts);\n\t  }\n\t  // set default options\n\t  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n\t  if (isUndefined(ctx.depth)) ctx.depth = 2;\n\t  if (isUndefined(ctx.colors)) ctx.colors = false;\n\t  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n\t  if (ctx.colors) ctx.stylize = stylizeWithColor;\n\t  return formatValue(ctx, obj, ctx.depth);\n\t}\n\texports.inspect = inspect;\n\t\n\t\n\t// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\n\tinspect.colors = {\n\t  'bold' : [1, 22],\n\t  'italic' : [3, 23],\n\t  'underline' : [4, 24],\n\t  'inverse' : [7, 27],\n\t  'white' : [37, 39],\n\t  'grey' : [90, 39],\n\t  'black' : [30, 39],\n\t  'blue' : [34, 39],\n\t  'cyan' : [36, 39],\n\t  'green' : [32, 39],\n\t  'magenta' : [35, 39],\n\t  'red' : [31, 39],\n\t  'yellow' : [33, 39]\n\t};\n\t\n\t// Don't use 'blue' not visible on cmd.exe\n\tinspect.styles = {\n\t  'special': 'cyan',\n\t  'number': 'yellow',\n\t  'boolean': 'yellow',\n\t  'undefined': 'grey',\n\t  'null': 'bold',\n\t  'string': 'green',\n\t  'date': 'magenta',\n\t  // \"name\": intentionally not styling\n\t  'regexp': 'red'\n\t};\n\t\n\t\n\tfunction stylizeWithColor(str, styleType) {\n\t  var style = inspect.styles[styleType];\n\t\n\t  if (style) {\n\t    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n\t           '\\u001b[' + inspect.colors[style][1] + 'm';\n\t  } else {\n\t    return str;\n\t  }\n\t}\n\t\n\t\n\tfunction stylizeNoColor(str, styleType) {\n\t  return str;\n\t}\n\t\n\t\n\tfunction arrayToHash(array) {\n\t  var hash = {};\n\t\n\t  array.forEach(function(val, idx) {\n\t    hash[val] = true;\n\t  });\n\t\n\t  return hash;\n\t}\n\t\n\t\n\tfunction formatValue(ctx, value, recurseTimes) {\n\t  // Provide a hook for user-specified inspect functions.\n\t  // Check that value is an object with an inspect function on it\n\t  if (ctx.customInspect &&\n\t      value &&\n\t      isFunction(value.inspect) &&\n\t      // Filter out the util module, it's inspect function is special\n\t      value.inspect !== exports.inspect &&\n\t      // Also filter out any prototype objects using the circular check.\n\t      !(value.constructor && value.constructor.prototype === value)) {\n\t    var ret = value.inspect(recurseTimes, ctx);\n\t    if (!isString(ret)) {\n\t      ret = formatValue(ctx, ret, recurseTimes);\n\t    }\n\t    return ret;\n\t  }\n\t\n\t  // Primitive types cannot have properties\n\t  var primitive = formatPrimitive(ctx, value);\n\t  if (primitive) {\n\t    return primitive;\n\t  }\n\t\n\t  // Look up the keys of the object.\n\t  var keys = Object.keys(value);\n\t  var visibleKeys = arrayToHash(keys);\n\t\n\t  if (ctx.showHidden) {\n\t    keys = Object.getOwnPropertyNames(value);\n\t  }\n\t\n\t  // IE doesn't make error fields non-enumerable\n\t  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n\t  if (isError(value)\n\t      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n\t    return formatError(value);\n\t  }\n\t\n\t  // Some type of object without properties can be shortcutted.\n\t  if (keys.length === 0) {\n\t    if (isFunction(value)) {\n\t      var name = value.name ? ': ' + value.name : '';\n\t      return ctx.stylize('[Function' + name + ']', 'special');\n\t    }\n\t    if (isRegExp(value)) {\n\t      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n\t    }\n\t    if (isDate(value)) {\n\t      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n\t    }\n\t    if (isError(value)) {\n\t      return formatError(value);\n\t    }\n\t  }\n\t\n\t  var base = '', array = false, braces = ['{', '}'];\n\t\n\t  // Make Array say that they are Array\n\t  if (isArray(value)) {\n\t    array = true;\n\t    braces = ['[', ']'];\n\t  }\n\t\n\t  // Make functions say that they are functions\n\t  if (isFunction(value)) {\n\t    var n = value.name ? ': ' + value.name : '';\n\t    base = ' [Function' + n + ']';\n\t  }\n\t\n\t  // Make RegExps say that they are RegExps\n\t  if (isRegExp(value)) {\n\t    base = ' ' + RegExp.prototype.toString.call(value);\n\t  }\n\t\n\t  // Make dates with properties first say the date\n\t  if (isDate(value)) {\n\t    base = ' ' + Date.prototype.toUTCString.call(value);\n\t  }\n\t\n\t  // Make error with message first say the error\n\t  if (isError(value)) {\n\t    base = ' ' + formatError(value);\n\t  }\n\t\n\t  if (keys.length === 0 && (!array || value.length == 0)) {\n\t    return braces[0] + base + braces[1];\n\t  }\n\t\n\t  if (recurseTimes < 0) {\n\t    if (isRegExp(value)) {\n\t      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n\t    } else {\n\t      return ctx.stylize('[Object]', 'special');\n\t    }\n\t  }\n\t\n\t  ctx.seen.push(value);\n\t\n\t  var output;\n\t  if (array) {\n\t    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n\t  } else {\n\t    output = keys.map(function(key) {\n\t      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n\t    });\n\t  }\n\t\n\t  ctx.seen.pop();\n\t\n\t  return reduceToSingleString(output, base, braces);\n\t}\n\t\n\t\n\tfunction formatPrimitive(ctx, value) {\n\t  if (isUndefined(value))\n\t    return ctx.stylize('undefined', 'undefined');\n\t  if (isString(value)) {\n\t    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n\t                                             .replace(/'/g, \"\\\\'\")\n\t                                             .replace(/\\\\\"/g, '\"') + '\\'';\n\t    return ctx.stylize(simple, 'string');\n\t  }\n\t  if (isNumber(value))\n\t    return ctx.stylize('' + value, 'number');\n\t  if (isBoolean(value))\n\t    return ctx.stylize('' + value, 'boolean');\n\t  // For some reason typeof null is \"object\", so special case here.\n\t  if (isNull(value))\n\t    return ctx.stylize('null', 'null');\n\t}\n\t\n\t\n\tfunction formatError(value) {\n\t  return '[' + Error.prototype.toString.call(value) + ']';\n\t}\n\t\n\t\n\tfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n\t  var output = [];\n\t  for (var i = 0, l = value.length; i < l; ++i) {\n\t    if (hasOwnProperty(value, String(i))) {\n\t      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n\t          String(i), true));\n\t    } else {\n\t      output.push('');\n\t    }\n\t  }\n\t  keys.forEach(function(key) {\n\t    if (!key.match(/^\\d+$/)) {\n\t      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n\t          key, true));\n\t    }\n\t  });\n\t  return output;\n\t}\n\t\n\t\n\tfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n\t  var name, str, desc;\n\t  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n\t  if (desc.get) {\n\t    if (desc.set) {\n\t      str = ctx.stylize('[Getter/Setter]', 'special');\n\t    } else {\n\t      str = ctx.stylize('[Getter]', 'special');\n\t    }\n\t  } else {\n\t    if (desc.set) {\n\t      str = ctx.stylize('[Setter]', 'special');\n\t    }\n\t  }\n\t  if (!hasOwnProperty(visibleKeys, key)) {\n\t    name = '[' + key + ']';\n\t  }\n\t  if (!str) {\n\t    if (ctx.seen.indexOf(desc.value) < 0) {\n\t      if (isNull(recurseTimes)) {\n\t        str = formatValue(ctx, desc.value, null);\n\t      } else {\n\t        str = formatValue(ctx, desc.value, recurseTimes - 1);\n\t      }\n\t      if (str.indexOf('\\n') > -1) {\n\t        if (array) {\n\t          str = str.split('\\n').map(function(line) {\n\t            return '  ' + line;\n\t          }).join('\\n').substr(2);\n\t        } else {\n\t          str = '\\n' + str.split('\\n').map(function(line) {\n\t            return '   ' + line;\n\t          }).join('\\n');\n\t        }\n\t      }\n\t    } else {\n\t      str = ctx.stylize('[Circular]', 'special');\n\t    }\n\t  }\n\t  if (isUndefined(name)) {\n\t    if (array && key.match(/^\\d+$/)) {\n\t      return str;\n\t    }\n\t    name = JSON.stringify('' + key);\n\t    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n\t      name = name.substr(1, name.length - 2);\n\t      name = ctx.stylize(name, 'name');\n\t    } else {\n\t      name = name.replace(/'/g, \"\\\\'\")\n\t                 .replace(/\\\\\"/g, '\"')\n\t                 .replace(/(^\"|\"$)/g, \"'\");\n\t      name = ctx.stylize(name, 'string');\n\t    }\n\t  }\n\t\n\t  return name + ': ' + str;\n\t}\n\t\n\t\n\tfunction reduceToSingleString(output, base, braces) {\n\t  var numLinesEst = 0;\n\t  var length = output.reduce(function(prev, cur) {\n\t    numLinesEst++;\n\t    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n\t    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n\t  }, 0);\n\t\n\t  if (length > 60) {\n\t    return braces[0] +\n\t           (base === '' ? '' : base + '\\n ') +\n\t           ' ' +\n\t           output.join(',\\n  ') +\n\t           ' ' +\n\t           braces[1];\n\t  }\n\t\n\t  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n\t}\n\t\n\t\n\t// NOTE: These type checking functions intentionally don't use `instanceof`\n\t// because it is fragile and can be easily faked with `Object.create()`.\n\tfunction isArray(ar) {\n\t  return Array.isArray(ar);\n\t}\n\texports.isArray = isArray;\n\t\n\tfunction isBoolean(arg) {\n\t  return typeof arg === 'boolean';\n\t}\n\texports.isBoolean = isBoolean;\n\t\n\tfunction isNull(arg) {\n\t  return arg === null;\n\t}\n\texports.isNull = isNull;\n\t\n\tfunction isNullOrUndefined(arg) {\n\t  return arg == null;\n\t}\n\texports.isNullOrUndefined = isNullOrUndefined;\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\texports.isNumber = isNumber;\n\t\n\tfunction isString(arg) {\n\t  return typeof arg === 'string';\n\t}\n\texports.isString = isString;\n\t\n\tfunction isSymbol(arg) {\n\t  return typeof arg === 'symbol';\n\t}\n\texports.isSymbol = isSymbol;\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\texports.isUndefined = isUndefined;\n\t\n\tfunction isRegExp(re) {\n\t  return isObject(re) && objectToString(re) === '[object RegExp]';\n\t}\n\texports.isRegExp = isRegExp;\n\t\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\texports.isObject = isObject;\n\t\n\tfunction isDate(d) {\n\t  return isObject(d) && objectToString(d) === '[object Date]';\n\t}\n\texports.isDate = isDate;\n\t\n\tfunction isError(e) {\n\t  return isObject(e) &&\n\t      (objectToString(e) === '[object Error]' || e instanceof Error);\n\t}\n\texports.isError = isError;\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\texports.isFunction = isFunction;\n\t\n\tfunction isPrimitive(arg) {\n\t  return arg === null ||\n\t         typeof arg === 'boolean' ||\n\t         typeof arg === 'number' ||\n\t         typeof arg === 'string' ||\n\t         typeof arg === 'symbol' ||  // ES6 symbol\n\t         typeof arg === 'undefined';\n\t}\n\texports.isPrimitive = isPrimitive;\n\t\n\texports.isBuffer = __webpack_require__(320);\n\t\n\tfunction objectToString(o) {\n\t  return Object.prototype.toString.call(o);\n\t}\n\t\n\t\n\tfunction pad(n) {\n\t  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n\t}\n\t\n\t\n\tvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n\t              'Oct', 'Nov', 'Dec'];\n\t\n\t// 26 Feb 16:19:34\n\tfunction timestamp() {\n\t  var d = new Date();\n\t  var time = [pad(d.getHours()),\n\t              pad(d.getMinutes()),\n\t              pad(d.getSeconds())].join(':');\n\t  return [d.getDate(), months[d.getMonth()], time].join(' ');\n\t}\n\t\n\t\n\t// log is just a thin wrapper to console.log that prepends a timestamp\n\texports.log = function() {\n\t  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n\t};\n\t\n\t\n\t/**\n\t * Inherit the prototype methods from one constructor into another.\n\t *\n\t * The Function.prototype.inherits from lang.js rewritten as a standalone\n\t * function (not on Function.prototype). NOTE: If this file is to be loaded\n\t * during bootstrapping this function needs to be rewritten using some native\n\t * functions as prototype setup using normal JavaScript does not work as\n\t * expected during bootstrapping (see mirror.js in r114903).\n\t *\n\t * @param {function} ctor Constructor function which needs to inherit the\n\t *     prototype.\n\t * @param {function} superCtor Constructor function to inherit prototype from.\n\t */\n\texports.inherits = __webpack_require__(321);\n\t\n\texports._extend = function(origin, add) {\n\t  // Don't do anything if add isn't an object\n\t  if (!add || !isObject(add)) return origin;\n\t\n\t  var keys = Object.keys(add);\n\t  var i = keys.length;\n\t  while (i--) {\n\t    origin[keys[i]] = add[keys[i]];\n\t  }\n\t  return origin;\n\t};\n\t\n\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(319)))\n\n/***/ },\n\n/***/ 320:\n/***/ function(module, exports) {\n\n\tmodule.exports = function isBuffer(arg) {\n\t  return arg && typeof arg === 'object'\n\t    && typeof arg.copy === 'function'\n\t    && typeof arg.fill === 'function'\n\t    && typeof arg.readUInt8 === 'function';\n\t}\n\n/***/ },\n\n/***/ 321:\n/***/ function(module, exports) {\n\n\tif (typeof Object.create === 'function') {\n\t  // implementation from standard node.js 'util' module\n\t  module.exports = function inherits(ctor, superCtor) {\n\t    ctor.super_ = superCtor\n\t    ctor.prototype = Object.create(superCtor.prototype, {\n\t      constructor: {\n\t        value: ctor,\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true\n\t      }\n\t    });\n\t  };\n\t} else {\n\t  // old school shim for old browsers\n\t  module.exports = function inherits(ctor, superCtor) {\n\t    ctor.super_ = superCtor\n\t    var TempCtor = function () {}\n\t    TempCtor.prototype = superCtor.prototype\n\t    ctor.prototype = new TempCtor()\n\t    ctor.prototype.constructor = ctor\n\t  }\n\t}\n\n\n/***/ },\n\n/***/ 322:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _immutable = __webpack_require__(298);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar RenderMap = (0, _immutable.Map)({\n\t  caption: {\n\t    element: 'cite'\n\t  },\n\t  'block-quote-caption': {\n\t    element: 'blockquote'\n\t  },\n\t  todo: {\n\t    element: 'div'\n\t  }\n\t}).merge(_draftJs.DefaultDraftBlockRenderMap);\n\t\n\texports.default = RenderMap;\n\n/***/ },\n\n/***/ 323:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tvar hasCommandModifier = _draftJs.KeyBindingUtil.hasCommandModifier;\n\t\n\texports.default = function (e) {\n\t  if (hasCommandModifier(e) && e.keyCode == 83) {\n\t    return 'editor-save';\n\t  }\n\t  if (e.altKey === true) {\n\t    if (e.shiftKey === true) {\n\t      switch (e.keyCode) {\n\t        // Alt + Shift + A\n\t        case 65:\n\t          return 'add-new-block';\n\t        // Alt + Shift + D\n\t        case 68:\n\t          return 'load-saved-data';\n\t        case 69:\n\t          return 'toggle-edit-mode';\n\t        default:\n\t          return (0, _draftJs.getDefaultKeyBinding)(e);\n\t      }\n\t    }\n\t    switch (e.keyCode) {\n\t      // 1\n\t      case 49:\n\t        return 'changetype:ordered-list-item';\n\t      // @\n\t      case 50:\n\t        return 'showlinkinput';\n\t      // #\n\t      case 51:\n\t        return 'changetype:header-three';\n\t      // *\n\t      case 56:\n\t        return 'changetype:unordered-list-item';\n\t\n\t      //S\n\t      // case 83: return 'editor-save';\n\t      // = +\n\t      // case 187: return 'add-new-block';\n\t      // <\n\t      case 188:\n\t        return 'changetype:caption';\n\t      // // -\n\t      // case 189: return 'changetype:caption';\n\t      // >\n\t      case 190:\n\t        return 'changetype:unstyled';\n\t      // \"\n\t      case 222:\n\t        return 'changetype:blockquote';\n\t\n\t      default:\n\t        return (0, _draftJs.getDefaultKeyBinding)(e);\n\t    }\n\t  }\n\t  return (0, _draftJs.getDefaultKeyBinding)(e);\n\t};\n\n/***/ },\n\n/***/ 324:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.StringToTypeMap = undefined;\n\t\n\tvar _index = __webpack_require__(307);\n\t\n\tvar _constants = __webpack_require__(308);\n\t\n\tvar StringToTypeMap = exports.StringToTypeMap = {\n\t  '--': _constants.Block.BLOCKQUOTE + ':' + _constants.Block.BLOCKQUOTE_CAPTION + ':' + _constants.Block.CAPTION,\n\t  '\"\"': _constants.Block.BLOCKQUOTE,\n\t  '> ': _constants.Block.BLOCKQUOTE,\n\t  '\\'\\'': _constants.Block.BLOCKQUOTE,\n\t  '*.': _constants.Block.UL,\n\t  '* ': _constants.Block.UL,\n\t  '- ': _constants.Block.UL,\n\t  '1.': _constants.Block.OL,\n\t  '##': _constants.Block.H2,\n\t  '==': _constants.Block.UNSTYLED,\n\t  '[]': _constants.Block.TODO\n\t};\n\t\n\texports.default = function (editorState, str, onChange) {\n\t  var mapping = arguments.length <= 3 || arguments[3] === undefined ? StringToTypeMap : arguments[3];\n\t\n\t  var selection = editorState.getSelection();\n\t  var block = (0, _index.getCurrentBlock)(editorState);\n\t  var blockType = block.getType();\n\t  var blockLength = block.getLength();\n\t  if (selection.getAnchorOffset() > 1 || blockLength > 1) {\n\t    return false;\n\t  }\n\t  var blockTo = mapping[block.getText()[0] + str];\n\t  if (!blockTo) {\n\t    return false;\n\t  }\n\t  var finalType = blockTo.split(':');\n\t  if (finalType.length < 1 || finalType.length > 3) {\n\t    return false;\n\t  }\n\t  var fType = finalType[0];\n\t  if (finalType.length == 1) {\n\t    if (blockType == finalType[0]) {\n\t      return false;\n\t    }\n\t  } else if (finalType.length == 2) {\n\t    if (blockType == finalType[1]) {\n\t      return false;\n\t    }\n\t    if (blockType == finalType[0]) {\n\t      fType = finalType[1];\n\t    }\n\t  } else if (finalType.length == 3) {\n\t    if (blockType == finalType[2]) {\n\t      return false;\n\t    }\n\t    if (blockType == finalType[0]) {\n\t      fType = finalType[1];\n\t    } else {\n\t      fType = finalType[2];\n\t    }\n\t  }\n\t  onChange((0, _index.resetBlockWithType)(editorState, fType));\n\t  return true;\n\t};\n\n/***/ },\n\n/***/ 325:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.findLinkEntities = undefined;\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(35);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar findLinkEntities = exports.findLinkEntities = function findLinkEntities(contentBlock, callback) {\n\t  contentBlock.findEntityRanges(function (character) {\n\t    var entityKey = character.getEntity();\n\t    return entityKey !== null && _draftJs.Entity.get(entityKey).getType() === 'LINK';\n\t  }, callback);\n\t};\n\t\n\texports.default = function (props) {\n\t  var _Entity$get$getData = _draftJs.Entity.get(props.entityKey).getData();\n\t\n\t  var url = _Entity$get$getData.url;\n\t\n\t  return _react2.default.createElement(\n\t    'a',\n\t    { className: 'draft-link hint--bottom', href: url, target: '_blank' },\n\t    props.children\n\t  );\n\t};\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** medium-draft.018019f829034a0eada6.js\n **/","import Editor from 'editor';\nimport beforeInput, { StringToTypeMap } from 'util/beforeinput';\nimport RenderMap from 'model/rendermap';\n\nexport {\n  Editor,\n  beforeInput,\n  StringToTypeMap,\n  RenderMap\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","import 'draft-js/dist/Draft.css';\nimport './index.scss';\nimport './components/blocks/text.scss';\n\nimport React from 'react';\nimport {\n  Editor,\n  EditorState,\n  SelectionState,\n  ContentState,\n  RichUtils,\n  convertToRaw,\n  convertFromRaw,\n  CompositeDecorator,\n  Entity,\n  AtomicBlockUtils,\n  DefaultDraftBlockRenderMap\n} from 'draft-js';\nimport { Map } from 'immutable';\n\nimport AddButton from 'components/addbutton';\nimport Toolbar from 'components/toolbar';\n\nimport rendererFn from 'components/customrenderer';\nimport { getSelectionRect, getSelection } from 'util';\nimport RenderMap from 'model/rendermap';\nimport keyBindingFn from 'util/keybinding';\nimport { Block, Inline, Entity as E } from 'util/constants';\nimport beforeInput, { StringToTypeMap } from 'util/beforeinput';\nimport { getCurrentBlock, addNewBlock, updateDataOfBlock, resetBlockWithType } from 'model';\nimport Link, { findLinkEntities } from 'components/entities/link';\n\nconst styleMap = {\n   [Inline.HIGHLIGHT]: {\n      backgroundColor: 'yellow',\n   },\n   [Inline.CODE]: {\n      fontFamily: 'Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      margin: '4px 0',\n      fontSize: '0.9em',\n      padding: '1px 3px',\n      color: '#555',\n      backgroundColor: '#fcfcfc',\n      border: '1px solid #ccc',\n      borderBottomColor: '#bbb',\n      borderRadius: 3,\n      boxShadow: 'inset 0 -1px 0 #bbb',\n   }\n};\n\nfunction getBlockStyle(block) {\n  switch (block.getType()) {\n    case Block.BLOCKQUOTE: return 'block block-quote RichEditor-blockquote';\n    case Block.UNSTYLED: return 'block block-paragraph';\n    case Block.ATOMIC: return 'block block-atomic';\n    case Block.CAPTION: return 'block block-caption';\n    case Block.TODO: return 'block block-paragraph block-todo';\n    case Block.BLOCKQUOTE_CAPTION: return 'block block-quote RichEditor-blockquote block-quote-caption';\n    default: return 'block';\n  }\n}\n\nclass MyEditor extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const decorator = new CompositeDecorator([\n      {\n        strategy: findLinkEntities,\n        component: Link,\n      },\n    ]);\n    this.state = {\n      editorState: EditorState.createEmpty(decorator),\n      showURLInput: false,\n      editorEnabled: true,\n      urlValue: ''\n    };\n    if (props.value) {\n      this.state.editorState = EditorState.push(this.state.editorState, convertFromRaw(props.value));\n    }\n    this.focus = () => this.refs.editor.focus();\n    this.onChange = (editorState) => {\n      if (this.state.editorEnabled) {\n        this.setState({ editorState });        \n      }\n    };\n\n    this.onClick = () => {\n      if (!this.state.editorEnabled) {\n        this.setState({\n          editorEnabled: true\n        }, () => {\n          this.focus();\n        });\n      }\n    };\n\n    this.logData = this.logData.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onTab = this.onTab.bind(this);\n    this.handleKeyCommand = this.handleKeyCommand.bind(this);\n    this.handleBeforeInput = this.handleBeforeInput.bind(this);\n    this.handleReturn = this.handleReturn.bind(this);\n    this.toggleBlockType = this._toggleBlockType.bind(this);\n    this.toggleInlineStyle = this._toggleInlineStyle.bind(this);\n    this.toggleEdit = this.toggleEdit.bind(this);\n    this.loadSavedData = this.loadSavedData.bind(this);\n    this.setLink = this.setLink.bind(this);\n    this.addMedia = this.addMedia.bind(this);\n    this.onChangeData = this.onChangeData.bind(this);\n    this.blockRendererFn = rendererFn(this.onChangeData);\n  }\n\n  componentDidMount() {\n    this.focus();\n  }\n\n  onTab(e) {\n    const { editorState } = this.state;\n    const newEditorState = RichUtils.onTab(e, editorState, 2);\n    if (newEditorState !== editorState) {\n      this.onChange(newEditorState);\n    }\n  };\n\n  logData(e) {\n    console.log(convertToRaw(this.state.editorState.getCurrentContent()));\n    console.log(this.state.editorState.getSelection().toJS());\n    window.sel = this.state.editorState.getSelection();\n  }\n\n  setLink(url) {\n    const { editorState } = this.state;\n    const selection = editorState.getSelection();\n    let entityKey = null;\n    if (url !== '') {\n      entityKey = Entity.create(E.LINK, 'MUTABLE', { url });\n    }\n    this.setState({\n      editorState: RichUtils.toggleLink(\n        editorState,\n        selection,\n        entityKey\n      ),\n    }, () => {\n      setTimeout(() => this.refs.editor.focus(), 0);\n    });\n  }\n\n  onChangeData(block, newData) {\n    this.onChange(updateDataOfBlock(this.state.editorState, block, newData));\n  }\n\n  addMedia() {\n    const src = window.prompt('Enter a URL');\n    if (!src) {\n      return;\n    }\n    const entityKey = Entity.create('image', 'IMMUTABLE', {src});\n    this.onChange(\n      AtomicBlockUtils.insertAtomicBlock(\n        this.state.editorState,\n        entityKey,\n        ' '\n      )\n    );\n  }\n\n  handleDroppedFiles(selection, files) {\n    console.log(selection.toJS());\n    console.log(files);\n  }\n\n  handleKeyCommand(command) {\n    // console.log(command);\n    if (command === 'editor-save') {\n      window.localStorage['editor'] = JSON.stringify(convertToRaw(this.state.editorState.getCurrentContent()));\n      window.localStorage['tmp'] = JSON.stringify(convertToRaw(this.state.editorState.getCurrentContent()));\n      return true;\n    } else if (command === 'showlinkinput') {\n      if (this.refs.toolbar) {\n        this.refs.toolbar.handleLinkInput(null, true);\n      }\n      return true;\n    } else if (command === 'add-new-block') {\n      const { editorState } = this.state;\n      this.onChange(addNewBlock(editorState, Block.BLOCKQUOTE));\n      return true;\n    } else if (command === 'load-saved-data') {\n      this.loadSavedData();\n      return true;\n    }\n    const { editorState } = this.state;\n    const block = getCurrentBlock(editorState);\n    if (command.indexOf('changetype:') == 0) {\n      let newBlockType = command.split(':')[1];\n      const currentBlockType = block.getType();\n      if (currentBlockType == Block.ATOMIC || currentBlockType == 'media') {\n        return false;\n      }\n      if (currentBlockType == Block.BLOCKQUOTE && newBlockType == Block.CAPTION) {\n        newBlockType = Block.BLOCKQUOTE_CAPTION;\n      } else if (currentBlockType == Block.BLOCKQUOTE_CAPTION && newBlockType == Block.CAPTION) {\n        newBlockType = Block.BLOCKQUOTE;\n      }\n      this.onChange(RichUtils.toggleBlockType(editorState, newBlockType));\n      return true;\n    }\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      this.onChange(newState);\n      return true;\n    }\n    return false;\n  }\n\n  handleBeforeInput(str) {\n    return this.props.beforeInput(this.state.editorState, str, this.onChange, this.props.stringToTypeMap);\n  }\n\n  handleReturn(e) {\n    if (e.shiftKey) {\n      this.onChange(RichUtils.insertSoftNewline(this.state.editorState));\n      return true;\n    }\n    if (!e.altKey && !e.metaKey && !e.ctrlKey) {\n      const currentBlock = getCurrentBlock(this.state.editorState);\n      const blockType = currentBlock.getType();\n      if (currentBlock.getLength() > 0) {\n        return false;\n      }\n      switch(blockType) {\n        case Block.UL:\n        case Block.OL:\n        case Block.BLOCKQUOTE:\n        case Block.BLOCKQUOTE_CAPTION:\n        case Block.CAPTION:\n        case Block.TODO:\n        case Block.H2:\n          this.onChange(resetBlockWithType(this.state.editorState, Block.UNSTYLED));\n          return true;\n        default:\n          return false;\n      }\n    } \n    return false;\n  }\n\n  _toggleBlockType(blockType) {\n    this.onChange(\n      RichUtils.toggleBlockType(\n        this.state.editorState,\n        blockType\n      )\n    );\n  }\n\n  _toggleInlineStyle(inlineStyle) {\n    this.onChange(\n      RichUtils.toggleInlineStyle(\n        this.state.editorState,\n        inlineStyle\n      )\n    );\n  }\n\n  toggleEdit(e) {\n    this.setState({\n      editorEnabled: !this.state.editorEnabled\n    });\n  }\n\n  loadSavedData() {\n    const data = window.localStorage.getItem('editor');\n    if (data === null) {\n      return;\n    }\n    try {\n      const blockData = JSON.parse(data);\n      console.log(blockData);\n      this.setState({\n        editorState: EditorState.push(\n          this.state.editorState,\n          convertFromRaw(blockData)\n        )\n      }, () => this.refs.editor.focus());\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const { editorState, showURLInput, editorEnabled, urlValue } = this.state;\n    return (\n      <div className=\"RichEditor-root\">\n        <div className=\"RichEditor-editor\">\n          <Editor\n            ref=\"editor\"\n            editorState={editorState}\n            blockRendererFn={this.blockRendererFn}\n            blockStyleFn={getBlockStyle}\n            onChange={this.onChange}\n            onTab={this.onTab}\n            blockRenderMap={this.props.blockRenderMap}\n            handleKeyCommand={this.handleKeyCommand}\n            handleBeforeInput={this.handleBeforeInput}\n            handleDroppedFiles={this.handleDroppedFiles}\n            handleReturn={this.handleReturn}\n            customStyleMap={styleMap}\n            readOnly={!editorEnabled}\n            keyBindingFn={keyBindingFn}\n            placeholder=\"Write your story...\"\n            spellCheck={false} />\n          { editorEnabled ? <AddButton editorState={editorState} addMedia={this.addMedia} /> : null }\n          <Toolbar\n            ref=\"toolbar\"\n            editorNode={this.refs.editor}\n            editorState={editorState}\n            toggleBlockType={this.toggleBlockType}\n            toggleInlineStyle={this.toggleInlineStyle}\n            editorEnabled={editorEnabled}\n            setLink={this.setLink}\n            focus={this.focus} />\n        </div>\n        <div className=\"editor-action\">\n          <button onClick={this.logData}>Log State</button>\n          <button onClick={this.toggleEdit}>Toggle Edit</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst renderMap = Map();\n\nMyEditor.defaultProps = {\n  beforeInput,\n  stringToTypeMap: StringToTypeMap,\n  blockRenderMap: RenderMap,\n};\n\n\nexport default MyEditor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor.js\n **/","import './addbutton.scss';\n\nimport React from 'react';\n\nimport { getSelectedBlockNode } from 'util/index';\n\nexport default class AddButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      style: {},\n      visible: false,\n    };\n    this.node = null;\n    this.blockKey = '';\n    this.blockType = '';\n    this.blockLength = -1;\n\n    this.findNode = this.findNode.bind(this);\n    this.hideBlock = this.hideBlock.bind(this);\n  }\n\n  // To show + button only when text length == 0\n  // componentWillReceiveProps(newProps) {\n  //   const { editorState } = newProps;\n  //   const contentState = editorState.getCurrentContent();\n  //   const selectionState = editorState.getSelection();\n  //   if (!selectionState.isCollapsed() || selectionState.anchorKey != selectionState.focusKey) {\n  //     // console.log('no sel');\n  //     this.hideBlock();\n  //     return;\n  //   }\n  //   const block = contentState.getBlockForKey(selectionState.anchorKey);\n  //   const bkey = block.getKey();\n  //   if (block.getLength() > 0) {\n  //     this.hideBlock();\n  //     return;\n  //   }\n  //   if (block.getType() !== this.blockType) {\n  //     this.blockType = block.getType();\n  //     if (block.getLength() == 0) {\n  //       setTimeout(this.findNode, 0);\n  //     }\n  //     return;\n  //   }\n  //   if (this.blockKey === bkey) {\n  //     // console.log('block exists');\n  //     if (block.getLength() > 0) {\n  //       this.hideBlock();\n  //     } else {\n  //       this.setState({\n  //         visible: true\n  //       });\n  //     }\n  //     return;\n  //   }\n  //   this.blockKey = bkey;\n  //   if (block.getLength() > 0) {\n  //     // console.log('no len');\n  //     this.hideBlock();\n  //     return;\n  //   }\n  //   setTimeout(this.findNode, 0);\n  // }\n\n  // Show + button regardless of block length\n  componentWillReceiveProps(newProps) {\n    const { editorState } = newProps;\n    const contentState = editorState.getCurrentContent();\n    const selectionState = editorState.getSelection();\n    if (!selectionState.isCollapsed() || selectionState.anchorKey != selectionState.focusKey) {\n      this.hideBlock();\n      return;\n    }\n    const block = contentState.getBlockForKey(selectionState.anchorKey);\n    const bkey = block.getKey();\n    if (block.getType() !== this.blockType) {\n      this.blockType = block.getType();\n      setTimeout(this.findNode, 0);\n      return;\n    }\n    if (this.blockKey === bkey) {\n      this.setState({\n        visible: true\n      });\n      return;\n    }\n    this.blockKey = bkey;\n    setTimeout(this.findNode, 0);\n  }\n\n  hideBlock() {\n    if (this.state.visible) {\n      this.setState({\n        visible: false\n      });\n    }\n  }\n\n  findNode() {\n    const node = getSelectedBlockNode(window);\n    if (node === this.node) {\n      // console.log('Node exists');\n      return;\n    }\n    if (!node) {\n      // console.log('no node');\n      this.setState({\n        visible: false\n      });\n      return;\n    }\n    const rect = node.getBoundingClientRect();\n    this.node = node;\n    this.setState({\n      visible: true,\n      style: {\n        top: node.offsetTop\n      }\n    });\n  }\n\n  render() {\n    if (this.state.visible) {\n      return <button onClick={this.props.addMedia} className=\"add-button\" style={this.state.style}>+</button>;\n    }\n    return null;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/addbutton.js\n **/","export const getSelectionRect = (selected) => {\n   var _rect = selected.getRangeAt(0).getBoundingClientRect();\n   var rect = _rect && _rect.top ? _rect : selected.getRangeAt(0).getClientRects()[0];//selected.getRangeAt(0).getBoundingClientRect()\n   if (!rect) {\n      if(selected.anchorNode && selected.anchorNode.getBoundingClientRect){\n         rect = selected.anchorNode.getBoundingClientRect();\n         rect.isEmptyline = true;\n      }\n      else{\n         return null;\n      }\n   }\n   return rect;\n}\n\n// export const getSelectedNode = (selection) => {};\n\nexport const getSelection = (root) => {\n   let t = null;\n   if (root.getSelection) {\n     t = root.getSelection();\n   } else if (root.document.getSelection) {\n     t = root.document.getSelection();\n   } else if (root.document.selection) {\n     t = root.document.selection.createRange().text;\n   }\n   return t;\n}\n\n\nexport const getSelectedBlockNode = (root) => {\n  const selection = root.getSelection();\n  if (selection.rangeCount == 0) {\n    return null;\n  }\n  window.sel = selection;\n  let node = selection.getRangeAt(0).startContainer;\n  // console.log(node);\n  do {\n    if (node.getAttribute && node.getAttribute('data-block') === 'true') {\n      return node;\n    }\n    node = node.parentNode;\n    // console.log(node);\n  } while(node !== null);\n  return null;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./util/index.js\n **/","import './toolbar.scss';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Entity } from 'draft-js';\n\nimport { getVisibleSelectionRect } from 'draft-js';\n\nimport BlockToolbar from './blocktoolbar';\nimport InlineToolbar from './inlinetoolbar';\n\nimport { getSelection, getSelectionRect } from 'util/index';\nimport { getCurrentBlock } from 'model/index';\n\n// window.getVisibleSelectionRect = getVisibleSelectionRect;\n\nexport default class Toolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showURLInput: false,\n      urlInputValue: '',\n    };\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleLinkInput = this.handleLinkInput.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { editorState } = newProps;\n    if (!newProps.editorEnabled) {\n      return;\n    }\n    const selectionState = editorState.getSelection();\n    if (selectionState.isCollapsed()) {\n      if (this.state.showURLInput) {\n        this.setState({\n          showURLInput: false\n        });\n      }\n      return;\n    }\n  }\n\n  componentDidUpdate() {\n    if (!this.props.editorEnabled || this.state.showURLInput) {\n      return;\n    }\n    const selectionState = this.props.editorState.getSelection();\n    if (selectionState.isCollapsed()) {\n      return;\n    }\n    const nativeSelection = getSelection(window);\n    if (!nativeSelection.rangeCount) {\n      return;\n    }\n    const selectionBoundary = getSelectionRect(nativeSelection);\n\n    const toolbarNode = ReactDOM.findDOMNode(this);\n    const toolbarBoundary = toolbarNode.getBoundingClientRect();\n    \n    const parent = ReactDOM.findDOMNode(this.props.editorNode);\n    const parentBoundary = parent.getBoundingClientRect();\n\n    /*\n    * Main logic for setting the toolbar position.\n    */\n    toolbarNode.style.top = (selectionBoundary.top - parentBoundary.top - toolbarBoundary.height - 5) + 'px';\n    toolbarNode.style.width = toolbarBoundary.width + 'px';\n    const widthDiff = selectionBoundary.width - toolbarBoundary.width;\n    if (widthDiff >= 0) {\n      toolbarNode.style.left = (widthDiff / 2) + 'px';\n    } else {\n      const left = (selectionBoundary.left - parentBoundary.left);\n      if (left + toolbarBoundary.width > parentBoundary.width) {\n        toolbarNode.style.right = '0px';\n        toolbarNode.style.left = '';\n      } else {\n        toolbarNode.style.left = (left + widthDiff / 2) + 'px';\n      }\n    }\n  }\n\n  onKeyDown(e) {\n    if (e.which === 13) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.setLink(this.state.urlInputValue);\n      this.setState({\n        showURLInput: false,\n        urlInputValue: '',\n      }, () => this.props.focus());\n    } else if (e.which === 27) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.setState({\n        showURLInput: false,\n        urlInputValue: '',\n      }, () => this.props.focus());\n    }\n  }\n\n  onChange (e) {\n    this.setState({\n      urlInputValue: e.target.value\n    });\n  }\n\n  handleLinkInput(e, direct=false) {\n    if (!direct) {\n      e.preventDefault();\n      e.stopPropagation();   \n    }\n    const { editorState } = this.props;\n    const selection = editorState.getSelection();\n    if (selection.isCollapsed()) {\n      this.props.focus();\n      return;\n    }\n    const currentBlock = getCurrentBlock(editorState);\n    let selectedEntity = '';\n    let linkFound = false;\n    currentBlock.findEntityRanges((character) => {\n      const entityKey = character.getEntity();\n      selectedEntity = entityKey;\n      return entityKey !== null && Entity.get(entityKey).getType() === 'LINK';\n    }, (start, end) => {\n      let selStart = selection.getAnchorOffset();\n      let selEnd = selection.getFocusOffset();\n      if (selection.getIsBackward()) {\n        selStart = selection.getFocusOffset();\n        selEnd = selection.getAnchorOffset();\n      }\n      if (start == selStart && end == selEnd) {\n        linkFound = true;\n        const { url } = Entity.get(selectedEntity).getData();\n        this.setState({\n          showURLInput: true,\n          urlInputValue: url\n        }, () => {\n          setTimeout(() => {\n            this.refs.urlinput.focus();\n            this.refs.urlinput.select();\n          }, 0);\n        });\n      }\n    });\n    if (!linkFound) {\n      this.setState({\n        showURLInput: true\n      }, () => {\n        setTimeout(() => {\n          this.refs.urlinput.focus();\n        }, 0);\n      });\n    }\n  }\n\n  render() {\n    const { editorState, editorEnabled } = this.props;\n    const { showURLInput, urlInputValue, style } = this.state;\n    if (!editorEnabled || editorState.getSelection().isCollapsed()) {\n      return null;\n    }\n    if (showURLInput) {\n      return (\n        <div className=\"editor-toolbar\" style={style}>\n          <div className=\"RichEditor-controls\" style={{display: 'block'}}>\n            <input\n              ref=\"urlinput\"\n              type=\"text\"\n              className=\"url-input\"\n              onKeyDown={this.onKeyDown}\n              onChange={this.onChange}\n              placeholder='Press ENTER or ESC'\n              value={urlInputValue} />\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"editor-toolbar\" style={style}>\n        <BlockToolbar\n          editorState={editorState}\n          onToggle={this.props.toggleBlockType}\n          buttons={this.props.blockButtons} />\n        <InlineToolbar\n          editorState={editorState}\n          onToggle={this.props.toggleInlineStyle}\n          buttons={this.props.inlineButtons} />\n        <div className=\"RichEditor-controls\">\n          <a className=\"RichEditor-linkButton\" href=\"#\" onClick={this.handleLinkInput}>#</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst BLOCK_BUTTONS = [\n  // {label: 'H1', style: 'header-one'},\n  // {label: 'H2', style: 'header-two'},\n  {label: 'T', style: 'header-three'},\n  {label: 'N', style: 'unstyled'},\n  {label: 'Q', style: 'blockquote'},\n  {label: 'UL', style: 'unordered-list-item'},\n  {label: 'OL', style: 'ordered-list-item'},\n];\n\nconst INLINE_BUTTONS = [\n  {label: <b>B</b>, style: 'BOLD'},\n  {label: <i>I</i>, style: 'ITALIC'},\n  {label: <u>U</u>, style: 'UNDERLINE'},\n  {label: <strike>S</strike>, style: 'STRIKETHROUGH'},\n  {label: 'Hi', style: 'HIGHLIGHT'},\n  {label: 'Code', style: 'CODE'},\n];\n\nToolbar.defaultProps = {\n  blockButtons: BLOCK_BUTTONS,\n  inlineButtons: INLINE_BUTTONS,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/toolbar.js\n **/","import React from 'react';\nimport { RichUtils } from 'draft-js';\n\nimport StyleButton from './stylebutton';\n\n\nexport default (props) => {\n  const {editorState} = props;\n  // const selection = editorState.getSelection();\n  const blockType = RichUtils.getCurrentBlockType(editorState);\n\n  return (\n    <div className=\"RichEditor-controls\">\n      {props.buttons.map((type) =>\n        <StyleButton\n          key={type.label}\n          active={type.style === blockType}\n          label={type.label}\n          onToggle={props.onToggle}\n          style={type.style}\n        />\n      )}\n    </div>\n  );\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/blocktoolbar.js\n **/","import React from 'react';\n\nexport default class StyleButton extends React.Component {\n  constructor() {\n    super();\n    this.onToggle = (e) => {\n      e.preventDefault();\n      this.props.onToggle(this.props.style);\n    };\n  }\n\n  render() {\n    let className = 'RichEditor-styleButton';\n    if (this.props.active) {\n      className += ' RichEditor-activeButton';\n    }\n\n    return (\n      <span className={className} onMouseDown={this.onToggle}>\n        {this.props.label}\n      </span>\n    );\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/stylebutton.js\n **/","import React from 'react';\n\nimport StyleButton from './stylebutton';\n\n\nexport default (props) => {\n  let currentStyle = props.editorState.getCurrentInlineStyle();\n  return (\n    <div className=\"RichEditor-controls\">\n      {props.buttons.map(type =>\n        <StyleButton\n          key={type.style}\n          active={currentStyle.has(type.style)}\n          label={type.label}\n          onToggle={props.onToggle}\n          style={type.style}\n        />\n      )}\n    </div>\n  );\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/inlinetoolbar.js\n **/","import { RichUtils, EditorState, ContentBlock, Modifier } from 'draft-js'\n\nimport { Block } from 'util/constants';\n\nexport const getDefaultBlockData = (blockType, initialData={}) => {\n  switch(blockType) {\n    case Block.TODO: return { checked: false };\n    default: return initialData;\n  }\n};\n\n\nexport const getCurrentBlock = (editorState) => {\n  const selectionState = editorState.getSelection();\n  const contentState = editorState.getCurrentContent();\n  const block = contentState.getBlockForKey(selectionState.getStartKey());\n  return block;\n};\n\nexport const addNewBlock = (editorState, newType=Block.UNSTYLED) => {\n  const selectionState = editorState.getSelection();\n  if (!selectionState.isCollapsed()) {\n    return editorState;\n  }\n  const contentState = editorState.getCurrentContent();\n  const key = selectionState.getStartKey();\n  const blockMap = contentState.getBlockMap();\n  const currentBlock = getCurrentBlock(editorState);\n  if (!currentBlock) {\n    return editorState;\n  }\n  if (currentBlock.getLength() == 0) {\n    if (currentBlock.getType() == newType) {\n      return editorState;\n    }\n    const newBlock = currentBlock.merge({\n      type: newType,\n      data: getDefaultBlockData(newType),\n    });\n    const newContentState = contentState.merge({\n      blockMap: blockMap.set(key, newBlock),\n      selectionAfter: selectionState\n    });\n    return EditorState.push(editorState, newContentState, 'change-block-type');\n  }\n  return editorState;\n};\n\nexport const resetBlockWithType = (editorState, newType=Block.UNSTYLED) => {\n  const contentState = editorState.getCurrentContent();\n  const selectionState = editorState.getSelection();\n  const key = selectionState.getStartKey();\n  const blockMap = contentState.getBlockMap();\n  const block = blockMap.get(key);\n  let newText = \"\";\n  let text = block.getText();\n  if (block.getLength() >= 2) {\n    newText = text.substr(1);\n  }\n  const newBlock = block.merge({\n    text: newText,\n    type: newType,\n    data: getDefaultBlockData(newType),\n  });\n  const newContentState = contentState.merge({\n    blockMap: blockMap.set(key, newBlock),\n    selectionAfter: selectionState.merge({\n      anchorOffset: 0,\n      focusOffset: 0,\n    }),\n  });\n  return EditorState.push(editorState, newContentState, 'change-block-type');\n};\n\n\nexport const updateDataOfBlock = (editorState, block, newData) => {\n  const contentState = editorState.getCurrentContent();\n  const blockMap = contentState.getBlockMap();\n  const newBlock = block.merge({\n    data: newData\n  });\n  const newContentState = contentState.merge({\n    blockMap: contentState.getBlockMap().set(block.getKey(), newBlock),\n  });\n  return EditorState.push(editorState, newContentState, 'change-block-type');\n  // return editorState;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./model/index.js\n **/","export const Block = {\n  UNSTYLED: 'unstyled',\n  OL: 'ordered-list-item',\n  UL: 'unordered-list-item',\n  H1: 'header-one',\n  H2: 'header-two',\n  H3: 'header-three',\n  H4: 'header-four',\n  H5: 'header-five',\n  H6: 'header-six',\n  CODE: 'code-block',\n  BLOCKQUOTE: 'blockquote',\n  PULLQUOTE: 'pullquote',\n  ATOMIC: 'atomic',\n  BLOCKQUOTE_CAPTION: 'block-quote-caption',\n  CAPTION: 'caption',\n  TODO: 'todo',\n};\n\nexport const Inline = {\n  BOLD: 'BOLD',\n  CODE: 'CODE',\n  ITALIC: 'ITALIC',\n  STRIKETHROUGH: 'STRIKETHROUGH',\n  UNDERLINE: 'UNDERLINE',\n  HIGHLIGHT: 'HIGHLIGHT',\n};\n\nexport const Entity = {\n  LINK: 'LINK'\n};\n\nexport default {\n  Block,\n  Inline,\n  Entity,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./util/constants.js\n **/","import QuoteCaptionComponent from './blocks/blockquotecaption';\nimport CaptionComponent from './blocks/caption';\nimport AtomicBlock from './blocks/atomic';\nimport TodoBlock from './blocks/todo';\n\nimport { Block } from 'util/constants';\n\nexport default (onChangeData) => (contentBlock) => {\n  // console.log(editorState, onChange);\n  const type = contentBlock.getType();\n  switch (type) {\n    case Block.BLOCKQUOTE_CAPTION: return {\n      component: QuoteCaptionComponent,\n    };\n    case Block.CAPTION: return {\n      component: CaptionComponent,\n    };\n    case Block.ATOMIC: return {\n      component: AtomicBlock,\n      editable: false,\n    };\n    case Block.TODO: return {\n      component: TodoBlock,\n      props: {\n        onChangeData,\n      },\n    };\n    default: return null;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/customrenderer.js\n **/","import './blockquotecaption.scss';\n\nimport React from \"react\";\nimport { EditorBlock } from 'draft-js';\n\nexport default (props) => (\n  <cite>\n    <EditorBlock {...props} />\n  </cite>\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/blocks/blockquotecaption.js\n **/","import './caption.scss';\n\nimport React from \"react\";\nimport { EditorBlock } from 'draft-js';\n\nexport default (props) => (\n  <EditorBlock {...props} />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/blocks/caption.js\n **/","import './atomic.scss';\n\nimport React from 'react';\nimport { Entity } from 'draft-js';\n\nexport default (props) => {\n  const entity = Entity.get(props.block.getEntityAt(0));\n  const data = entity.getData();\n  const type = entity.getType();\n  if (type === 'image') {\n    return (\n      <div className=\"block-atomic-wrapper\">\n        <img src={data.src} />\n        <div className=\"block-atomic-controls\">\n          <button>&times;</button>\n        </div>\n      </div>\n    );\n  }\n  return <p>No supported block for {type}</p>;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/blocks/atomic.js\n **/","import './todo.scss';\n\nimport React from \"react\";\nimport { EditorBlock } from 'draft-js';\n\nimport { updateDataOfBlock } from 'model/index';\n\n\nexport default class TodoBlock extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateData = this.updateData.bind(this);\n  }\n\n  updateData(e) {\n    const { block, blockProps } = this.props;\n    const { onChangeData } = blockProps;\n    const data = block.getData();\n    const checked = (data.has('checked') && data.get('checked') === true);\n    const newData = data.set('checked', !checked);\n    onChangeData(block, newData);\n  }\n\n  render() {\n    const data = this.props.block.getData();\n    const checked = data.get('checked') === true ? true : false;\n    return (\n      <div className={checked ? 'block-todo-completed' : ''}>\n        <input type=\"checkbox\" checked={ checked } onChange={this.updateData} />\n        <EditorBlock {...this.props} />\n      </div>\n    )\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/blocks/todo.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/util/util.js\n ** module id = 318\n ** module chunks = 0 1\n **/","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/util/support/isBufferBrowser.js\n ** module id = 320\n ** module chunks = 0 1\n **/","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/inherits/inherits_browser.js\n ** module id = 321\n ** module chunks = 0 1\n **/","import { Map } from 'immutable';\nimport { DefaultDraftBlockRenderMap } from 'draft-js';\n\nconst RenderMap = Map({\n  caption: {\n    element: 'cite',\n  },\n  'block-quote-caption': {\n    element: 'blockquote',\n  },\n  todo: {\n    element: 'div',\n  }\n}).merge(DefaultDraftBlockRenderMap);\n\n\nexport default RenderMap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./model/rendermap.js\n **/","import {getDefaultKeyBinding, KeyBindingUtil} from 'draft-js';\nconst { hasCommandModifier } = KeyBindingUtil;\n\nexport default (e) => {\n  if(hasCommandModifier(e) && e.keyCode == 83) {\n    return 'editor-save';\n  }\n  if (e.altKey === true) {\n    if (e.shiftKey === true) {\n      switch (e.keyCode) {\n        // Alt + Shift + A\n        case 65: return 'add-new-block';\n        // Alt + Shift + D\n        case 68: return 'load-saved-data';\n        case 69: return 'toggle-edit-mode';\n        default: return getDefaultKeyBinding(e);\n      }\n    }\n    switch(e.keyCode) {\n      // 1\n      case 49: return 'changetype:ordered-list-item';\n      // @\n      case 50: return 'showlinkinput';\n      // #\n      case 51: return 'changetype:header-three';\n      // *\n      case 56: return 'changetype:unordered-list-item';\n      \n      //S\n      // case 83: return 'editor-save';\n      // = +\n      // case 187: return 'add-new-block';\n      // <\n      case 188: return 'changetype:caption';\n      // // -\n      // case 189: return 'changetype:caption';\n      // >\n      case 190: return 'changetype:unstyled';\n      // \"\n      case 222: return 'changetype:blockquote';\n      \n      default: return getDefaultKeyBinding(e);\n    }\n  }\n  return getDefaultKeyBinding(e);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./util/keybinding.js\n **/","import { resetBlockWithType, getCurrentBlock } from 'model/index';\nimport { Block } from './constants';\n\nexport const StringToTypeMap = {\n  '--': `${Block.BLOCKQUOTE}:${Block.BLOCKQUOTE_CAPTION}:${Block.CAPTION}`,\n  '\"\"': Block.BLOCKQUOTE,\n  '> ': Block.BLOCKQUOTE,\n  '\\'\\'': Block.BLOCKQUOTE,\n  '*.': Block.UL,\n  '* ': Block.UL,\n  '- ': Block.UL,\n  '1.': Block.OL,\n  '##': Block.H2,\n  '==': Block.UNSTYLED,\n  '[]': Block.TODO,\n};\n\nexport default (editorState, str, onChange, mapping=StringToTypeMap) => {\n  const selection = editorState.getSelection();\n  const block = getCurrentBlock(editorState);\n  const blockType = block.getType();\n  const blockLength = block.getLength();\n  if (selection.getAnchorOffset() > 1 || blockLength > 1) {\n    return false;\n  }\n  const blockTo = mapping[block.getText()[0] + str];\n  if (!blockTo) {\n    return false;\n  }\n  const finalType = blockTo.split(':');\n  if (finalType.length < 1 || finalType.length > 3) {\n    return false;\n  }\n  let fType = finalType[0];\n  if (finalType.length == 1) {\n    if (blockType == finalType[0]) {\n      return false;\n    }\n  } else if (finalType.length == 2) {\n    if (blockType == finalType[1]) {\n      return false;\n    }\n    if (blockType == finalType[0]) {\n      fType = finalType[1];\n    }\n  } else if (finalType.length == 3) {\n    if (blockType == finalType[2]) {\n      return false;\n    }\n    if (blockType == finalType[0]) {\n      fType = finalType[1];\n    } else {\n      fType = finalType[2];\n    }\n  }\n  onChange(resetBlockWithType(editorState, fType));\n  return true;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./util/beforeinput.js\n **/","import React from 'react';\nimport { Entity } from 'draft-js';\n\n\nexport const findLinkEntities = (contentBlock, callback) => {\n  contentBlock.findEntityRanges(\n    (character) => {\n      const entityKey = character.getEntity();\n      return (\n        entityKey !== null &&\n        Entity.get(entityKey).getType() === 'LINK'\n      );\n    },\n    callback\n  );\n}\n\nexport default (props) => {\n  const { url } = Entity.get(props.entityKey).getData();\n  return (\n    <a className=\"draft-link hint--bottom\" href={url} target=\"_blank\">{props.children}</a>\n  );\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/entities/link.js\n **/"],"sourceRoot":""}